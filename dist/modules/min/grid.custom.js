var $jscomp={scope:{},findInternal:function(a,v,t){a instanceof String&&(a=String(a));for(var x=a.length,y=0;y<x;y++){var C=a[y];if(v.call(t,C,y,a))return{i:y,v:C}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,v,t){if(t.get||t.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[v]=t.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,v,t,x){if(v){t=$jscomp.global;a=a.split(".");for(x=0;x<a.length-1;x++){var y=a[x];y in t||(t[y]={});t=t[y]}a=a[a.length-1];x=t[a];v=v(x);v!=x&&null!=v&&$jscomp.defineProperty(t,a,{configurable:!0,writable:!0,value:v})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,t){return $jscomp.findInternal(this,a,t).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define(["jquery","./grid.base","./jquery.fmatter","./grid.common"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){var v=a.jgrid,t=v.jqID,x=a.fn.jqGrid,y=x.getGuiStyles,C=x.getGridRes;v.extend({getColProp:function(a){var b=this[0];return null!=b&&b.grid&&(a=b.p.iColByName[a],void 0!==a)?b.p.colModel[a]:{}},setColProp:function(e,b){return this.each(function(){var f=this.p,d;this.grid&&null!=f&&b&&(d=f.iColByName[e],void 0!==
d&&a.extend(!0,f.colModel[d],b))})},sortGrid:function(a,b,f){return this.each(function(){var d=this.grid,c=this.p,e=c.colModel,m=e.length,h,n,q=!1;if(d)for(a||(a=c.sortname),"boolean"!==typeof b&&(b=!1),n=0;n<m;n++)if(h=e[n],h.index===a||h.name===a){!0===c.frozenColumns&&!0===h.frozen&&(q=d.fhDiv.find("#"+c.id+"_"+a));q&&0!==q.length||(q=d.headers[n].el);d=h.sortable;("boolean"!==typeof d||d)&&this.sortData("jqgh_"+c.id+"_"+a,n,b,f,q);break}})},clearBeforeUnload:function(){return this.each(function(){var e=
this.p,b=this.grid,f,d=v.clearArray,c=Object.prototype.hasOwnProperty;a.isFunction(b.emptyRows)&&b.emptyRows.call(this,!0,!0);a(document).off("mousemove.jqGrid mouseup.jqGrid"+e.id);a(this).off();var g,m=b.headers.length;for(g=0;g<m;g++)b.headers[g].el=null;for(f in b)b.hasOwnProperty(f)&&(b.propOrMethod=null);b="formatCol sortData updatepager refreshIndex setHeadCheckBox constructTr clearToolbar fixScrollOffsetAndhBoxPadding rebuildRowIndexes modalAlert toggleToolbar triggerToolbar formatter addXmlData addJSONData ftoolbar _inlinenav nav grid p".split(" ");
m=b.length;for(g=0;g<m;g++)c.call(this,b[g])&&(this[b[g]]=null);this._index={};d(e.data);d(e.lastSelectedData);d(e.selarrrow);d(e.savedRow)})},GridDestroy:function(){return this.each(function(){var e=this.p;if(this.grid&&null!=e){e.pager&&a(e.pager).remove();try{a("#alertmod_"+t(e.id)).remove(),a(this).jqGrid("clearBeforeUnload"),a(e.gBox).remove()}catch(b){}}})},GridUnload:function(){return this.each(function(){var e=a(this),b=this.p,f=a.fn.jqGrid;this.grid&&(e.removeClass(f.getGuiStyles.call(e,
"grid","ui-jqgrid-btable")),b.pager&&a(b.pager).empty().removeClass(f.getGuiStyles.call(e,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(b.gBox).show(),a(b.pager).insertBefore(b.gBox).show(),a(b.gBox).remove())})},setGridState:function(e){return this.each(function(){var b=this.p,f=this.grid,d=f.cDiv,c=a(f.uDiv),
g=a(f.ubDiv);if(f&&null!=b){var f=x.getIconRes.call(this,"gridMinimize.visible"),m=x.getIconRes.call(this,"gridMinimize.hidden");"hidden"===e?(a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",b.gView).slideUp("fast"),b.pager&&a(b.pager).slideUp("fast"),b.toppager&&a(b.toppager).slideUp("fast"),!0===b.toolbar[0]&&("both"===b.toolbar[1]&&g.slideUp("fast"),c.slideUp("fast")),b.footerrow&&a(".ui-jqgrid-sdiv",b.gBox).slideUp("fast"),a(".ui-jqgrid-titlebar-close span",d).removeClass(f).addClass(m),b.gridstate="hidden"):
"visible"===e&&(a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",b.gView).slideDown("fast"),b.pager&&a(b.pager).slideDown("fast"),b.toppager&&a(b.toppager).slideDown("fast"),!0===b.toolbar[0]&&("both"===b.toolbar[1]&&g.slideDown("fast"),c.slideDown("fast")),b.footerrow&&a(".ui-jqgrid-sdiv",b.gBox).slideDown("fast"),a(".ui-jqgrid-titlebar-close span",d).removeClass(m).addClass(f),b.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var b=this,f=b.grid,d=a(b),c=b.p,g=v.info_dialog,m=
v.htmlEncode;if(!this.ftoolbar){var h=a.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},v.search,c.searching||{},e||{}),n=c.colModel,
q=function(a){return C.call(d,a)},U=q("errors.errcap"),x=q("edit.bClose"),V=q("edit.msg"),J=y.call(b,"states.hover"),z=y.call(b,"states.select"),G=y.call(b,"filterToolbar.dataField"),H={},D=function(a){var b="gs_";switch(h.idMode){case "compatibility":b+=c.idPrefix;break;case "new":b+=c.id+"_"}return b+a},A=function(b){var k;k=c.postData.filters;var d={},u,f,e,l;if(b)for(b=0;b<n.length;b++)e=n[b],!1!==e.search&&(l=e.searchoptions||{},d[e.name]={op:l.sopt?l.sopt[0]:"select"===e.stype?"eq":h.defaultSearch,
data:void 0!==l.defaultValue?l.defaultValue:""});if(!k||!c.search)return d;if("string"===typeof k)try{k=a.parseJSON(k)}catch(W){k={}}else k=k||{};u=k.rules||{};if(null==k||null!=k.groupOp&&null!=h.groupOp&&k.groupOp.toUpperCase()!==h.groupOp.toUpperCase()||null==u||0===u.length||null!=k.groups&&0<k.groups.length)return d;for(b=0;b<u.length;b++)for(f=u[b],k=0;k<n.length;k++)if(e=n[k],(e.index||e.name)===f.field&&!1!==e.search){l=e.searchoptions||{};if(l.sopt){if(0>a.inArray(f.op,l.sopt))continue}else if("select"===
e.stype){if("eq"!==f.op)continue}else if(f.op!==h.defaultSearch)continue;d[e.name]={op:f.op,data:f.data}}return d},I=function(a,b){switch(b){case 1:a.data("state",1).prop({checked:!0,indeterminate:!1});break;case 0:a.data("state",0).prop({checked:!1,indeterminate:!1});break;default:a.data("state",-1).prop({checked:!1,indeterminate:!0})}},B=function(){var e={},k=0,w={};a.each(n,function(){var d=this,u=d.index||d.name,r,l,g=d.searchoptions||{};r=a("#"+t(D(d.name)),!0===d.frozen&&!0===c.frozenColumns?
f.fhDiv:f.hDiv);var K=function(a,b){var c=d.formatoptions||{};return void 0!==c[a]?c[a]:q("formatter."+(b||d.formatter)+"."+a)},E=function(a){var b=K("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return a.replace(new RegExp(b,"g"),"")};l=h.searchOperators?r.parent().prev().children("a").data("soper")||h.defaultSearch:g.sopt?g.sopt[0]:"select"===d.stype||"checkbox"===d.stype?"eq":h.defaultSearch;if("custom"===d.stype&&a.isFunction(g.custom_value)&&0<r.length&&"SPAN"===r[0].nodeName.toUpperCase())r=
g.custom_value.call(b,r.children(".customelement").first(),"get");else if("select"===d.stype)r=r.val();else if("checkbox"===d.stype){var p="off",E="on";null!=g.value&&(g=g.value.split(":"),E=g[0],p=g[1]);switch(r.data("state")){case -1:r="";break;case 0:r=p;break;default:r=E}}else switch(r=a.trim(r.val()),d.formatter){case "integer":r=E(r).replace(K("decimalSeparator","number"),".");""!==r&&(r=String(parseInt(r,10)));break;case "number":r=E(r).replace(K("decimalSeparator"),".");""!==r&&"0"===String(r).charAt(0)&&
(r=String(parseFloat(r)));break;case "currency":g=K("prefix"),p=K("suffix"),g&&g.length&&(r=r.substr(g.length)),p&&p.length&&(r=r.substr(0,r.length-p.length)),r=E(r).replace(K("decimalSeparator"),"."),""!==r&&(r=String(parseFloat(r)))}if(r||"nu"===l||"nn"===l)e[u]=r,w[u]=l,k++;else if(e.hasOwnProperty(u)&&delete e[u],!h.stringResult&&!h.searchOperators&&"local"!==c.datatype)try{null!=c.postData&&c.postData.hasOwnProperty(u)&&delete c.postData[u]}catch(Q){}});var K=0<k?!0:!1;if(h.stringResult||h.searchOperators||
"local"===c.datatype){var g='{"groupOp":"'+h.groupOp+'","rules":[',p=0;a.each(e,function(a,b){0<p&&(g+=",");g+='{"field":"'+a+'",';g+='"op":"'+w[a]+'",';g+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';p++});g+="]}";a.extend(c.postData,{filters:g});a.each(["searchField","searchString","searchOper"],function(a,b){c.postData.hasOwnProperty(b)&&delete c.postData[b]})}else a.extend(c.postData,e);var l;c.searchurl&&(l=c.url,d.jqGrid("setGridParam",{url:c.searchurl}));var m="stop"===
d.triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!m&&a.isFunction(h.beforeSearch)&&(m=h.beforeSearch.call(b));m||d.jqGrid("setGridParam",{search:K}).trigger("reloadGrid",[a.extend({page:1},h.reloadGridSearchOptions||{})]);l&&d.jqGrid("setGridParam",{url:l});d.triggerHandler("jqGridToolbarAfterSearch");a.isFunction(h.afterSearch)&&h.afterSearch.call(b)},M=q("search.odata")||[],F=c.customSortOperations,w=function(e,k,f){a("#sopt_menu").remove();k=parseInt(k,10);f=parseInt(f,10)+18;var g,u=0,w=[],
l=a(e).data("soper"),u=a(e).data("colname"),p=a(".ui-jqgrid-view").css("font-size")||"11px";k="<ul id='sopt_menu' class='"+y.call(b,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+p+";left:"+k+"px;top:"+f+"px;'>";u=c.iColByName[u];if(void 0!==u){u=n[u];f=a.extend({},u.searchoptions);var E,q;f.sopt||(f.sopt=[],f.sopt[0]="select"===u.stype||"checkbox"===u.stype?"eq":h.defaultSearch);a.each(M,function(){w.push(this.oper)});null!=F&&a.each(F,
function(a){w.push(a)});for(u=0;u<f.sopt.length;u++)p=f.sopt[u],g=a.inArray(p,w),-1!==g&&(g=M[g],void 0!==g?(q=h.operands[p],E=g.text):null!=F&&(E=F[p],q=E.operand,E=E.text),g=l===p?z:"",k+='<li class="ui-menu-item '+g+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+m(p)+'" data-oper="'+m(q)+'"><table><tr><td style="width:25px">'+m(q)+"</td><td>"+m(E)+"</td></tr></table></a></li>");k+="</ul>";a("body").append(k);a("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all");
a("#sopt_menu > li > a").hover(function(){a(this).addClass(J)},function(){a(this).removeClass(J)}).click(function(){var b=a(this).attr("value"),c=a(this).data("oper");d.triggerHandler("jqGridToolbarSelectOper",[b,c,e]);a("#sopt_menu").hide();a(e).data("soper",b).text(c);!0===h.autosearch&&(c=a(e).parent().next().children()[0],(a(c).val()||"nu"===b||"nn"===b)&&B())})}},p,S=[],T=a("<tr></tr>",{"class":"ui-search-toolbar",role:"row form"});h.loadFilterDefaults&&(H=A()||{});a.each(n,function(d){var k,
e,f,u,w,l=this.searchoptions||{},m=this.editoptions||{},n=a("<th></th>",{"class":y.call(b,"colHeaders","ui-th-column ui-th-"+c.direction+" "+(h.applyLabelClasses?this.labelClasses||"":"")),role:"gridcell","aria-describedby":c.id+"_"+this.name}),t=a("<div></div>");e=a("<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>");var r=e.children("tbody").children("tr").children("td"),
z=r.eq(0),A=r.eq(1),r=r.eq(2);!0===this.hidden&&n.css("display","none");this.search=!1===this.search?!1:!0;void 0===this.stype&&(this.stype="text");k=a.extend({mode:"filter"},l);if(this.search){if(h.searchOperators){u=c.search&&null!=H[this.name]?H[this.name].op:k.sopt?k.sopt[0]:"select"===this.stype||"checkbox"===this.stype?"eq":h.defaultSearch;for(w=0;w<M.length;w++)if(M[w].oper===u){f=h.operands[u]||"";break}if(void 0===f&&null!=F)for(var N in F)if(F.hasOwnProperty(N)&&N===u){f=F[N].operand;break}void 0===
f&&(f="=");z.append("<a title='"+(null!=k.searchtitle?k.searchtitle:q("search.operandTitle"))+"' data-soper='"+u+"' class='"+y.call(b,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+f+"</a>")}z.data("colindex",d);null!=k.sopt&&1!==k.sopt.length||z.hide();c.search&&null!=H[this.name]&&(k.defaultValue=H[this.name].data);void 0===k.clearSearch&&(k.clearSearch="text"===this.stype?!0:!1);k.clearSearch?(f=a.isFunction(h.resetTitle)?h.resetTitle.call(b,{options:h,cm:this,cmName:this.name,
iCol:d}):(q("search.resetTitle")||"Clear Search Value")+" "+v.stripHtml(c.colNames[d]),r.append("<a title='"+f+"' aria-label='"+f+"' class='"+y.call(b,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+h.resetIcon+"</span></a>")):r.hide();t.append(e);switch(this.stype){case "checkbox":d=void 0!==k.defaultValue?k.defaultValue:"-1";l=a("<input role='search' type='checkbox' class='"+G+"' name='"+(this.index||this.name)+"' id='"+D(this.name)+"' aria-labelledby='jqgh_"+c.id+"_"+this.name+"' data-state='"+
d+"'/>");"-1"===d?l.prop("indeterminate",!0):"1"===d&&l.prop("checked",!0);l.click(function(){var b=a(this);switch(b.data("state")){case -1:I(b,1);break;case 0:I(b,-1);break;default:I(b,0)}!0===h.autosearch&&B()});A.append(l);k.attr&&l.attr(k.attr);S.push({elem:l[0],options:k});break;case "select":if(e=this.surl||k.dataUrl)a.ajax(a.extend({url:e,context:{$tdInput:A,options:k,cm:this,iCol:d},dataType:"html",success:function(c,d,e){d=this.cm;var f=this.iCol,g=this.options,u=this.$tdInput;void 0!==g.buildSelect?
(c=g.buildSelect.call(b,c,e,d,f))&&u.append(c):u.append(c);c=u.children("select");c.attr({name:d.index||d.name,id:D(d.name)});g.attr&&c.attr(g.attr);c.addClass(G);c.css({width:"100%"});0===c.find("option[value='']").length&&"string"===typeof k.noFilterText&&(L=document.createElement("option"),L.value="",L.innerHTML=k.noFilterText,c.prepend(L),null!=a(c[0].options[c[0].selectedIndex]).attr("selected")||c[0].multiple||(c[0].selectedIndex=0));void 0!==g.defaultValue&&c.val(g.defaultValue);v.bindEv.call(b,
c[0],g);v.fullBoolFeedback.call(b,g.selectFilled,"jqGridSelectFilled",{elem:c[0],options:g,cm:d,cmName:d.name,iCol:f,mode:"filter"});!0===h.autosearch&&c.change(function(){B();return!1})}},v.ajaxOptions,c.ajaxSelectOptions||{}));else{var P,C,Q;this.searchoptions?(P=void 0===l.value?m.value||"":l.value,C=void 0===l.separator?m.separator||":":l.separator,Q=void 0===l.delimiter?m.delimiter||";":l.delimiter):this.editoptions&&(P=void 0===m.value?"":m.value,C=void 0===m.separator?":":m.separator,Q=void 0===
m.delimiter?";":m.delimiter);if(P){e=document.createElement("select");e.style.width="100%";l=a(e).attr({name:this.index||this.name,role:"search",id:D(this.name),"aria-describedby":c.id+"_"+this.name});k.attr&&l.attr(k.attr);if(!v.fillSelectOptions(e,P,C,Q,null!=k.attr&&k.attr.multiple)&&"string"===typeof k.noFilterText){var L=document.createElement("option");L.value="";L.innerHTML=k.noFilterText;L.selected=!0;l.prepend(L)}void 0!==k.defaultValue&&l.val(k.defaultValue);l.addClass(G);S.push({elem:e,
options:k});A.append(e);v.fullBoolFeedback.call(b,k.selectFilled,"jqGridSelectFilled",{elem:e,options:this.searchoptions||m,cm:this,cmName:this.name,iCol:d,mode:"filter"});!0===h.autosearch&&l.change(function(){B();return!1})}}break;case "text":l=a("<input role='search' type='text' class='"+G+"' name='"+(this.index||this.name)+"' id='"+D(this.name)+"' aria-labelledby='jqgh_"+c.id+"_"+this.name+"' value='"+(void 0!==k.defaultValue?k.defaultValue:"")+"'/>");A.append(l);k.attr&&l.attr(k.attr);S.push({elem:l[0],
options:k});!0===h.autosearch&&(h.searchOnEnter?l.keypress(function(a){return 13===(a.charCode||a.keyCode||0)?(B(),!1):this}):l.keydown(function(a){switch(a.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:p&&clearTimeout(p),p=setTimeout(function(){B()},h.autosearchDelay)}}));break;case "custom":A.append("<span style='width:100%;padding:0;box-sizing:border-box;' class='"+G+"' name='"+(this.index||this.name)+"' id='"+D(this.name)+"'/>");try{if(a.isFunction(k.custom_element)){var R=
k.custom_element.call(b,void 0!==k.defaultValue?k.defaultValue:"",k);if(R)R=a(R).addClass("customelement"),t.find("span[name='"+(this.index||this.name)+"']").append(R);else throw"e2";}else throw"e1";}catch(O){"e1"===O&&g.call(b,U,"function 'custom_element' "+V.nodefined,x),"e2"===O?g.call(b,U,"function 'custom_element' "+V.novalue,x):g.call(b,U,"string"===typeof O?O:O.message,x)}}}n.append(t);n.find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){a(this).addClass(J)},
function(){a(this).removeClass(J)});T.append(n);h.searchOperators||z.hide()});a(f.hDiv).find(">div>.ui-jqgrid-htable>thead").append(T);a.each(S,function(){v.bindEv.call(b,this.elem,this.options)});h.searchOperators&&(a(".soptclass",T).click(function(b){var c=a(this).offset();w(this,c.left,c.top);b.stopPropagation()}),a("body").on("click",function(b){"soptclass"!==b.target.className&&a("#sopt_menu").hide()}));a(".clearsearchclass",T).click(function(){var b=a(this).closest(".ui-search-clear"),c=parseInt(b.siblings(".ui-search-oper").data("colindex"),
10),b=b.siblings(".ui-search-input"),d=a.extend({},n[c].searchoptions||{}).defaultValue||"";switch(n[c].stype){case "select":d?b.find("select").val(d):b.find("select")[0].selectedIndex=0;break;case "checkbox":I(b.find("input[type=checkbox]"),-1);break;default:b.find("input").val(d)}!0===h.autosearch&&B()});b.ftoolbar=!0;b.triggerToolbar=B;b.clearToolbar=function(e){var k={},g=0,w;e="boolean"!==typeof e?!0:e;a.each(n,function(){var d,e=a("#"+t(D(this.name)),!0===this.frozen&&!0===c.frozenColumns?f.fhDiv:
f.hDiv),h,p=this.searchoptions||{};void 0!==p.defaultValue&&(d=p.defaultValue);w=this.index||this.name;switch(this.stype){case "checkbox":I(e,-1);break;case "select":h=0<e.length?!e[0].multiple:!0;e.find("option").each(function(b){this.selected=0===b&&h;if(a(this).val()===d)return this.selected=!0,!1});if(void 0!==d)k[w]=d,g++;else try{delete c.postData[w]}catch(N){}break;case "text":e.val(d||"");if(void 0!==d)k[w]=d,g++;else try{delete c.postData[w]}catch(N){}break;case "custom":a.isFunction(p.custom_value)&&
0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()&&p.custom_value.call(b,e.children(".customelement").first(),"set",d||"")}});var u=0<g?!0:!1;c.resetsearch=!0;if(h.stringResult||h.searchOperators||"local"===c.datatype){var p='{"groupOp":"'+h.groupOp+'","rules":[',l=0;a.each(k,function(a,b){0<l&&(p+=",");p+='{"field":"'+a+'",';p+='"op":"eq",';p+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';l++});p+="]}";a.extend(c.postData,{filters:p});a.each(["searchField","searchString","searchOper"],
function(a,b){c.postData.hasOwnProperty(b)&&delete c.postData[b]})}else a.extend(c.postData,k);var m;c.searchurl&&(m=c.url,d.jqGrid("setGridParam",{url:c.searchurl}));var q="stop"===d.triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!q&&a.isFunction(h.beforeClear)&&(q=h.beforeClear.call(b));q||e&&d.jqGrid("setGridParam",{search:u}).trigger("reloadGrid",[a.extend({page:1},h.reloadGridResetOptions||{})]);m&&d.jqGrid("setGridParam",{url:m});d.triggerHandler("jqGridToolbarAfterClear");a.isFunction(h.afterClear)&&
h.afterClear()};b.toggleToolbar=function(){var b=a("tr.ui-search-toolbar",f.hDiv),e=!0===c.frozenColumns?a("tr.ui-search-toolbar",f.fhDiv):!1;"none"===b.css("display")?(b.show(),e&&e.show()):(b.hide(),e&&e.hide());!0===c.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns"))};!0===c.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns"));d.on("jqGridRefreshFilterValues.filterToolbar"+(h.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),
function(){var b,d,e=A(!0)||{},f;if(h.stringResult||h.searchOperators||"local"===c.datatype||!c.search){for(b in e)if(e.hasOwnProperty(b)&&(d=e[b],f=a("#"+t(D(b))),0<f.length)){if("SELECT"===f[0].tagName.toUpperCase()&&f[0].multiple)f.val(d.data.split(","));else if(f.is("input[type=checkbox]")){var g=f.closest("th.ui-th-column");if(0<g.length){var w=(c.colModel[g[0].cellIndex]||{}).searchoptions||{},p="off",g="on";null!=w.value&&(w=w.value.split(":"),g=w[0],p=w[1]);I(f,d.data===g?1:d.data===p?0:-1)}}else a.trim(f.val())!==
d.data&&f.val(d.data);f=f.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass");f.data("soper",d.op);f.text(h.operands[d.op])}for(d=0;d<c.colModel.length;d++)b=c.colModel[d].name,e.hasOwnProperty(b)||a("#"+t(D(b))).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,a(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===this.p.frozenColumns&&
a(this).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){void 0===e&&(e=!0);return this.each(function(){var b,f,d,c;b=this.grid;var g=this.p.colModel,m=a("table.ui-jqgrid-htable thead",b.hDiv);if(b){a(this).off(".setGroupHeaders");var h=a("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),n=b.headers;b=0;for(f=n.length;b<f;b++){d=g[b].hidden?"none":"";d=a(n[b].el).width(n[b].width).css("display",d);try{d.removeAttr("rowSpan")}catch(q){d.attr("rowSpan",1)}h.append(d);
c=d.children("span.ui-jqgrid-resize");0<c.length&&(c[0].style.height="");d.children("div")[0].style.top=""}a(m).children("tr.ui-jqgrid-labels").remove();a(m).prepend(h);!0===e&&a(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){e=a.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},e||{});return this.each(function(){this.p.groupHeader=e;var b,f,d=0,c,g,m,h,n,q,t=this.p,x=t.colModel,C=x.length,J=this.grid.headers,z=a("table.ui-jqgrid-htable",this.grid.hDiv),
G=v.isCellClassHidden,H=z.children("thead").children("tr.ui-jqgrid-labels"),D=H.last().addClass("jqg-second-row-header");c=z.children("thead");var A=z.find(".jqg-first-row-header");void 0===A[0]?A=a("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):A.empty();var I=function(a,b){var c;for(c=0;c<b.length;c++)if(b[c].startColumnName===a)return b[c];return 0};a(this).prepend(c);c=a("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(b=
0;b<C;b++)if(m=J[b].el,h=a(m),f=x[b],g={height:"0",width:J[b].width+"px",display:f.hidden?"none":""},a("<th>",{role:"gridcell"}).css(g).addClass("ui-first-th-"+t.direction+(e.applyLabelClasses?" "+(f.labelClasses||""):"")).appendTo(A),m.style.width="",g=y.call(this,"colHeaders","ui-th-column-header ui-th-"+t.direction+" "+(e.applyLabelClasses?f.labelClasses||"":"")),n=I(f.name,e.groupHeaders)){d=n.numberOfColumns;q=n.titleText;for(n=f=0;n<d&&b+n<C;n++)x[b+n].hidden||G(x[b+n].classes)||f++;g=a("<th>").addClass(g).css({height:"22px",
"border-top":"0 none"}).html(q);0<f&&g.attr("colspan",String(f));t.headertitles&&g.attr("title",g.text());0===f&&g.hide();h.before(g);c.append(m);--d}else 0===d?e.useColSpanStyle?h.attr("rowspan",H.length+1):(a("<th>").addClass(g).css({display:f.hidden?"none":"","border-top":"0 none"}).insertBefore(h),c.append(m)):(c.append(m),d--);t=a(this).children("thead");t.prepend(A);c.insertAfter(D);z.prepend(t);e.useColSpanStyle&&(z.find("span.ui-jqgrid-resize").each(function(){var b=a(this).parent();b.is(":visible")&&
(this.style.cssText="height:"+b.height()+"px !important;cursor:col-resize;")}),z.find(".ui-th-column>div").each(function(){var b=a(this),c=b.parent();c.is(":visible")&&c.is(":has(span.ui-jqgrid-resize)")&&!b.hasClass("ui-jqgrid-rotate")&&!b.hasClass("ui-jqgrid-rotateOldIE")&&b.css("top",(c.height()-b.outerHeight(!0))/2+"px")}));a(this).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var a=this;if(0===a.length)return 0;var a=a[0],a=a.p.colModel,b=a.length,f=-1,d;
for(d=0;d<b&&!0===a[d].frozen;d++)f=d;return f+1},setFrozenColumns:function(e){e=e||{};return this.each(function(){var b=this,f=a(b),d=b.p,c=b.grid;if(c&&null!=d&&!0!==d.frozenColumns){var g=d.colModel,m,h=g.length,n=-1,q=!1,v=[],x=t(d.id),C=y.call(b,"states.hover"),J=y.call(b,"states.disabled");if(!0!==d.subGrid&&!0!==d.treeGrid&&!d.scroll){for(m=0;m<h&&!0===g[m].frozen;m++)q=!0,n=m,v.push("#jqgh_"+x+"_"+t(g[m].name));d.sortable&&(g=a(c.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),g.sortable("destroy"),
f.jqGrid("setGridParam",{sortable:{options:{items:0<v.length?">th:not(:has("+v.join(",")+"),:hidden)":">th:not(:hidden)"}}}),f.jqGrid("sortableColumns",g));if(0<=n&&q){q=d.caption?a(c.cDiv).outerHeight():0;v=a(".ui-jqgrid-htable",d.gView).height();d.toppager&&(q+=a(c.topDiv).outerHeight());!0===d.toolbar[0]&&"bottom"!==d.toolbar[1]&&(q+=a(c.uDiv).outerHeight());c.fhDiv=a("<div style='position:absolute;overflow:hidden;"+("rtl"===d.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+
"top:"+q+"px;height:"+v+"px;' class='"+y.call(b,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>");c.fbDiv=a("<div style='position:absolute;overflow:hidden;"+("rtl"===d.direction?"right:0;":"left:0;")+"top:"+(parseInt(q,10)+parseInt(v,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>");a(d.gView).append(c.fhDiv);g=a(".ui-jqgrid-htable",d.gView).clone(!0);h=g[0].tHead.rows;if(d.groupHeader){a(h[0].cells).filter(":gt("+n+")").remove();a(h).filter(".jqg-third-row-header").each(function(){a(this).children("th[id]").each(function(){var c=
a(this).attr("id");c&&c.substr(0,b.id.length+1)===b.id+"_"&&(c=c.substr(b.id.length+1),d.iColByName[c]>n&&a(this).remove())})});var z=-1,G=-1,H,D;a(h).filter(".jqg-second-row-header").children("th").each(function(){H=parseInt(a(this).attr("colspan")||1,10);D=parseInt(a(this).attr("rowspan")||1,10);1<D?(z++,G++):H&&(z+=H,G++);if(z===n)return!1});z!==n&&(G=n);a(h).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){a(this).children(":gt("+G+")").remove()})}else a(h).each(function(){a(this).children(":gt("+
n+")").remove()});a(g).width(1);a(c.fhDiv).append(g).scroll(function(){this.scrollLeft=0});d.footerrow&&(g=a(".ui-jqgrid-bdiv",d.gView).height(),c.fsDiv=a("<div style='position:absolute;"+("rtl"===d.direction?"right:0;":"left:0;")+"top:"+(parseInt(q,10)+parseInt(v,10)+parseInt(g,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),a(d.gView).append(c.fsDiv),q=a(".ui-jqgrid-ftable",d.gView).clone(!0),a("tr",q).each(function(){a("td:gt("+n+")",this).remove()}),a(q).width(1),a(c.fsDiv).append(q));
f.on("jqGridSortCol.setFrozenColumns",function(b,e,f){b=a("tr.ui-jqgrid-labels:last th:eq("+d.lastsort+")",c.fhDiv);e=a("tr.ui-jqgrid-labels:last th:eq("+f+")",c.fhDiv);a("span.ui-grid-ico-sort",b).addClass(J);a(b).attr("aria-selected","false");a("span.ui-icon-"+d.sortorder,e).removeClass(J);a(e).attr("aria-selected","true");d.viewsortcols[0]||d.lastsort===f||(a("span.s-ico",b).hide(),a("span.s-ico",e).show())});a(d.gView).append(c.fbDiv);a(c.bDiv).scroll(function(){a(c.fbDiv).scrollTop(a(this).scrollTop())});
a(c.fbDiv).on("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",function(d){c.bDiv.scrollTop+=a.isFunction(e.mouseWheel)?e.mouseWheel.call(b,d):"mousewheel"===d.type?-d.originalEvent.wheelDelta/10:6*d.originalEvent.detail});!0===d.hoverrows&&a(d.idSel).off("mouseover.jqGrid mouseout.jqGrid");var A=function(a,b){var c=a.height();1<=Math.abs(c-b)&&0<b&&(a.height(b),c=a.height(),1<=Math.abs(b-c)&&a.height(b+Math.round(b-c)))},I=function(a,b){var c=a.width();1<=Math.abs(c-b)&&(a.width(b),
c=a.width(),1<=Math.abs(b-c)&&a.width(b+Math.round(b-c)))},B=function(b,c,e,f){var g,k,h,p,n,w,l;l=a(c).position().top;var q,t,v;if(null!=b&&0<b.length){b[0].scrollTop=c.scrollTop;b.css("rtl"===d.direction?{top:l,right:0}:{top:l,left:0});k=b.children("table").children("thead").children("tr");h=a(c).children("div").children("table").children("thead").children("tr");0===h.length&&(k=a(b.children("table")[0].rows),h=a(a(c).children("div").children("table")[0].rows));g=Math.min(k.length,h.length);q=0<
g?a(k[0]).position().top:0;t=0<g?a(h[0]).position().top:0;if(0<=e)for(0<=f&&(g=Math.min(f+1,g));e<g;e++)if(p=a(h[e]),"none"!==p.css("display")&&p.is(":visible")){l=p.position().top;f=a(k[e]);n=f.position().top;w=p.height();if(null!=d.groupHeader&&d.groupHeader.useColSpanStyle)for(v=p[0].cells,m=0;m<v.length;m++)p=v[m],null!=p&&"TH"===p.nodeName.toUpperCase()&&(w=Math.max(w,a(p).height()));l=w+(l-t)+(q-n);A(f,l)}A(b,c.clientHeight)}},q={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},M={header:q,
resizeFooter:!0,body:q};f.on("jqGridAfterGridComplete.setFrozenColumns",function(){a(d.idSel+"_frozen").remove();a(c.fbDiv).height(c.hDiv.clientHeight);var b=a(this).clone(!0),e=b[0].rows,g=f[0].rows;a(e).filter("tr[role=row]").each(function(){a(this.cells).filter("td[role=gridcell]:gt("+n+")").remove()});c.fbRows=e;b.width(1).attr("id",d.id+"_frozen");b.appendTo(c.fbDiv);if(!0===d.hoverrows){var h=function(b,c,d){a(b)[c](C);a(d[b.rowIndex])[c](C)};a(e).filter(".jqgrow").hover(function(){h(this,"addClass",
g)},function(){h(this,"removeClass",g)});a(g).filter(".jqgrow").hover(function(){h(this,"addClass",e)},function(){h(this,"removeClass",e)})}B(c.fhDiv,c.hDiv,0,-1);B(c.fbDiv,c.bDiv,0,-1);c.sDiv&&B(c.fsDiv,c.sDiv,0,-1)});var F=function(b){a(c.fbDiv).scrollTop(a(c.bDiv).scrollTop());b.header.resizeDiv&&B(c.fhDiv,c.hDiv,b.header.resizedRows.iRowStart,b.header.resizedRows.iRowEnd);b.body.resizeDiv&&B(c.fbDiv,c.bDiv,b.body.resizedRows.iRowStart,b.body.resizedRows.iRowEnd);b.resizeFooter&&c.sDiv&&b.resizeFooter&&
B(c.fsDiv,c.sDiv,0,-1);var d=c.fhDiv[0].clientWidth;b.header.resizeDiv&&null!=c.fhDiv&&1<=c.fhDiv.length&&A(a(c.fhDiv),c.hDiv.clientHeight);b.body.resizeDiv&&null!=c.fbDiv&&0<c.fbDiv.length&&I(a(c.fbDiv),d);b.resizeFooter&&null!=c.fsDiv&&0<=c.fsDiv.length&&I(a(c.fsDiv),d)};a(d.gBox).on("resizestop.setFrozenColumns",function(){setTimeout(function(){F(M)},50)});f.on("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",
function(a,b){var c=f.jqGrid("getInd",b);F({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:c,iRowEnd:c}}})});f.on("jqGridResizeStop.setFrozenColumns",function(){F(M)});f.on("jqGridResetFrozenHeights.setFrozenColumns",function(a,b){F(b||M)});c.hDiv.loading||f.triggerHandler("jqGridAfterGridComplete");d.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=a(this),b=this.grid,f=this.p,d=t(f.id);
if(b&&!0===f.frozenColumns){a(b.fhDiv).remove();a(b.fbDiv).off(".setFrozenColumns");a(b.fbDiv).remove();b.fhDiv=null;b.fbDiv=null;b.fbRows=null;f.footerrow&&(a(b.fsDiv).remove(),b.fsDiv=null);e.off(".setFrozenColumns");if(!0===f.hoverrows){var c,g=y.call(this,"states.hover");e.on("mouseover.jqGrid",function(b){c=a(b.target).closest("tr.jqgrow");"ui-subgrid"!==a(c).attr("class")&&a(c).addClass(g)}).on("mouseout.jqGrid",function(b){c=a(b.target).closest("tr.jqgrow");a(c).removeClass(g)})}f.frozenColumns=
!1;f.sortable&&(b=a(b.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),b.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+d+"_rn,#jqgh_"+d+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",b))}})}})});
//# sourceMappingURL=grid.custom.map
