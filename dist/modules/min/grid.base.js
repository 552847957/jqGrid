/**
 * @license jqGrid 4.15.4-pre - free jqGrid: https://github.com/free-jqgrid/jqGrid
 * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com
 * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2018-03-31
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(r){return t(r,e.document)}):"object"==typeof module&&module.exports?module.exports=function(e,r){return e||(e=window),void 0===r&&(r="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(r,e.document),r}:t(jQuery,e.document)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.4-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all",menuItem:"ui-menu-item",menuItemButton:"ui-corner-all",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"ui-corner-all",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"d-none",closeButton:"btn btn-xs btn-outline-primary",fmButton:"btn btn-outline-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-outline-primary",actionsDiv:"",actionsButton:"btn btn-xs btn-outline-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",menuItem:"",menuItemButton:"dropdown-item",operButton:"btn btn-xs btn-outline-secondary",clearButton:"btn btn-xs btn-outline-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;e.length>0;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,r){return t[r]})},template:function(e){var t,r=$.makeArray(arguments).slice(1),i=r.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,a){var l,o;if(!isNaN(parseInt(a,10)))return r[parseInt(a,10)];for(t=0;t<i;t++)if($.isArray(r[t]))for(o=(l=r[t]).length;o--;)if(a===l[o].nm)return l[o].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,r,i=e instanceof $&&e.length>0?e[0]:e,a=$(i).outerHeight(),l=$(this).closest(".ui-jqgrid")[0];return l?(t=null!=i.getBoundingClientRect?i.getBoundingClientRect():$(i).offset(),r=null!=l.getBoundingClientRect?l.getBoundingClientRect():$(l).offset(),{top:t.top+a-r.top,left:t.left-r.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/"/g,"'"):"":e},stripPref:function(e,t){var r=$.type(e);return"string"!==r&&"number"!==r||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var r,i=t.split("."),a=i.length;if(null!=e){for(r=0;r<a;r++){if(!i[r])return null;if(void 0===(e=e[i[r]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,r,i){var a,l,o,n=0,s=0,d="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,c=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(i=function(e,t){var r,i,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],l=t||{},o=(jgrid.formatter||{}).date||{},n=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,s=a.length,d={};for(r=0;r<s;r++)void 0!==l[i=a[r]]?d[i]=l[i]:void 0!==o[i]?d[i]=o[i]:void 0!==n[i]&&(d[i]=n[i]);return d}(this.p,i)).parseRe&&(i.parseRe=/[#%\\\/:_;.,\t\s\-]/),i.masks.hasOwnProperty(e)&&(e=i.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)n=t;else if(null!==d)n=new Date(parseInt(d[1],10)),d[3]&&(s=60*Number(d[5])+Number(d[6]),s*="-"===d[4]?1:-1,s-=n.getTimezoneOffset(),n.setTime(Number(Number(n)+60*s*1e3)));else{for("ISO8601Long"===i.srcformat&&"Z"===t.charAt(t.length-1)&&(s-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),l=0,o=Math.min(e.length,t.length);l<o;l++){switch(e[l]){case"M":-1!==(a=$.inArray(t[l],i.monthNames))&&a<12&&(t[l]=a+1,u.m=t[l]);break;case"F":-1!==(a=$.inArray(t[l],i.monthNames,12))&&a>11&&(t[l]=a+1-12,u.m=t[l]);break;case"n":u.m=parseInt(t[l],10);break;case"j":u.d=parseInt(t[l],10);break;case"g":u.h=parseInt(t[l],10);break;case"a":-1!==(a=$.inArray(t[l],i.AmPm))&&a<2&&t[l]===i.AmPm[a]&&(t[l]=a,u.h=h(t[l],u.h));break;case"A":-1!==(a=$.inArray(t[l],i.AmPm))&&a>1&&t[l]===i.AmPm[a]&&(t[l]=a-2,u.h=h(t[l],u.h))}void 0!==t[l]&&(u[e[l].toLowerCase()]=parseInt(t[l],10))}if(u.f&&(u.m=u.f),0===u.m&&0===u.y&&0===u.d)return"&#160;";u.m=parseInt(u.m,10)-1;var g=u.y;g>=70&&g<=99?u.y=1900+u.y:g>=0&&g<=69&&(u.y=2e3+u.y),n=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u),0!==s&&n.setTime(Number(Number(n)+60*s*1e3))}else n=new Date(parseFloat(t));else n=new Date(1e3*parseFloat(t));else n=new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u);if(i.userLocalTime&&0===s&&0!==(s-=(new Date).getTimezoneOffset())&&n.setTime(Number(Number(n)+60*s*1e3)),void 0===r)return n;if(i.masks.hasOwnProperty(r)?r=i.masks[r]:r||(r="Y-m-d"),"u1000"===r.toLowerCase())return n.getTime();var p=n.getHours(),f=n.getMinutes(),m=n.getDate(),v=n.getMonth()+1,b=n.getTimezoneOffset(),w=n.getSeconds(),y=n.getMilliseconds(),C=n.getDay(),x=n.getFullYear(),j=(C+6)%7+1,D=(new Date(x,v-1,m)-new Date(x,0,1))/864e5,_=j<5?Math.floor((D+j-1)/7)+1:Math.floor((D+j-1)/7)||((new Date(x-1,0,1).getDay()+6)%7<4?53:52),R={d:c(m),D:i.dayNames[C],j:m,l:i.dayNames[C+7],N:j,S:i.S(m),w:C,z:D,W:_,F:i.monthNames[v-1+12],m:c(v),M:i.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:x,y:String(x).substring(2),a:p<12?i.AmPm[0]:i.AmPm[1],A:p<12?i.AmPm[2]:i.AmPm[3],B:"?",g:p%12||12,G:p,h:c(p%12||12),H:c(p),i:c(f),s:c(w),u:y,e:"?",I:"?",O:(b>0?"-":"+")+c(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),P:"?",T:(String(n).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g)||[""]).pop().replace(/[^\-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(n/1e3)};return r.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return R.hasOwnProperty(e)?R[e]:e.substring(1)})},parseDateToNumber:function(e,t){var r=jgrid.parseDate.call(this,e,t);return r instanceof Date?r.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){if(null==this.p||!this.p.id)return"";var t=this.p.id;switch(e){case COMPONENT_NAMES.GRID:return t;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+t;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+t;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+t;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+t;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+t;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var r;if(t instanceof $||t.length>0)r=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(r=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this.grid;if(e){var t=this.p,r=e.bDiv,i=function(e){var i=$(e).children("div").first();i.css(i.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",t.scrollOffset),e.scrollLeft=r.scrollLeft};$(r).width()>0&&(t.scrollOffset=r.offsetWidth-r.clientWidth,i(e.hDiv),e.sDiv&&i(e.sDiv))}},mergeCssClasses:function(){var e,t,r,i,a=$.makeArray(arguments),l={},o=[];for(e=0;e<a.length;e++)for(r=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<r.length;t++)""===(i=r[t])||l.hasOwnProperty(i)||(l[i]=!0,o.push(i));return o.join(" ")},hasOneFromClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(i.hasClass(a[r]))return!0;return!1},hasAllClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(!i.hasClass(a[r]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var r,i,a=this.grid,l=this.p;return a&&l?((e instanceof $||e.length>0)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(i=$(e.cells[t]),null!=(r=a.fbRows)&&t<r[0].cells.length?i.add(r[e.rowIndex].cells[t]):i):$()):$()},getDataFieldOfCell:function(e,t){var r,i=this.p,a=jgrid.getCell.call(this,e,t);return i.treeGrid&&a.children("div.tree-wrap").length>0&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?0===(r=a.children("span."+i.autoResizing.wrapperClassName)).length&&(r=a):r=a,r},enumEditableCells:function(e,t,r){var i=this.grid,a=this.rows,l=this.p;if(null==i||null==a||null==l||null==e||null==e.rowIndex||!e.id||!$.isFunction(r))return null;var o,n,s,d,c,u,h,g,p,f,m,v=l.colModel,b=v.length,w=e.rowIndex,y=i.fbRows,C=null!=y,x=C?y[w]:null;for(C&&(e=this.rows[w]),o=0;o<b&&("cb"===(s=(n=v[o]).name)||"subgrid"===s||"rn"===s||(C&&!n.frozen&&(C=!1),p=(C?x:e).cells[o],(f=$(p)).hasClass("not-editable-cell")||(m=f.width(),!0===l.treeGrid&&s===l.ExpandColumn?(m-=f.children("div.tree-wrap").outerWidth(),f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()):m=0,c=stripPref(l.idPrefix,e.id),d={rowid:e.id,id:c,iCol:o,iRow:w,cmName:s,cm:n,mode:t,td:p,tr:e,trFrozen:x,dataElement:f[0],dataWidth:m},"local"===l.datatype&&(h=null!=(u=l._index[c])?l.data[u]:void 0)&&(d.item=h),n.edittype||(n.edittype="text"),((l.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(s)?g=l.editingInfo[e.id].editable[s]:(g=n.editable,g=$.isFunction(g)?g.call(this,d):g),!0!==g&&"hidden"!==g||(d.editable=g,!1!==r.call(this,d)))));o++);},getEditedValue:function(e,t,r,i){var a,l,o,n,s,d,c=t.formatoptions||{},u=t.editoptions||{},h=u.custom_value,g="[name="+jgrid.jqID(t.name)+"]",p=this,f=$(p);if("hidden"===i||"readonly"===i)return $(p).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":l=["Yes","No"],"string"==typeof u.value&&(l=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?l[0]:l[1];break;case"text":case"password":case"textarea":case"button":a=(n=e.find("input"+g+",textarea"+g)).val(),"date"===n.prop("type")&&3===String(a).split("-").length&&(o=c.newformat||f.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(p,"Y-m-d",a,o));break;case"select":n=e.find("select option:selected"),u.multiple?(s=[],d=[],n.each(function(){s.push($(this).val()),d.push($(this).text())}),a=s.join(","),r.text=d.join(",")):(a=n.val(),r.text=n.text()),r.value=a;break;case"custom":try{if(!$.isFunction(h))throw"e1";if(void 0===(a=h.call(p,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){f.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(p,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:a=e.find("*"+g).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var r,i,a,l=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(l=t.split(".")),a=l.length)for(r=e;null!=r&&a--;)i=l.shift(),r=r.hasOwnProperty(i)?r[i]:void 0}catch(e){}return r},getXmlData:function(e,t,r){var i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(i&&i[2])return i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]);if(void 0!==e){var a=$(e).find(t);return r?a:a.length>0?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),r=t.appendTo("body").find("td").is(":hidden");return t.remove(),r},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(d.length>0&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,r){return void 0===r&&(r=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)?e<t?-r:e>t?r:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-r:e>t?r:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var r=_sorting[t].by,i=_sorting[t].dir,a=_sorting[t].type,l=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,r,i,a,l,o);t++;var n,s,d,c=self._getGroup(e,r,i,a,l),u=[];for(n=0;n<c.length;n++)for(d=self._doSort(c[n].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,t,r,i,a,l){var o,n,s,d=[],c=[],u="a"===r?1:-1;void 0===i&&(i="text"),s="float"===i||"number"===i||"currency"===i||"numeric"===i?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===i||"integer"===i?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===i||"datetime"===i?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(i)?i:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,r){void 0===(n=""!==t?jgrid.getAccessor(r,t):r)&&(n=""),n=s.call(context,n,r),c.push({vSort:n,data:r,index:e})}),$.isFunction(l)?c.sort(function(e,t){return l.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var h=0,g=e.length;h<g;)o=c[h].index,d.push(e[o]),h++;return d},this._getGroup=function(e,t,r,i,a){var l=[],o=null,n=null;return $.each(self._getOrder(e,t,r,i,a),function(e,r){var i=jgrid.getAccessor(r,t);null==i&&(i=""),self._equals(n,i)||(n=i,null!==o&&l.push(o),o=self._group(t,i)),o.items.push(r)}),null!==o&&l.push(o),l},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,r){return _negate=!_negate,self.and(e,t,r)},this.orNot=function(e,t,r){return _negate=!_negate,self.or(e,t,r)},this.not=function(e,t,r){return self.andNot(e,t,r)},this.and=function(e,t,r){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,r)},this.or=function(e,t,r){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,r)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,r,i,a){var l=t;void 0===r&&(r=null);var o=r,n=void 0===a.stype?"text":a.stype;if(null!==r)switch(n){case"int":case"integer":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseInt("+l+"||0,10)",o=String(parseInt(o,10));break;case"boolean":l="normilizeBoolean("+l+")",o="normilizeBoolean("+String(o)+")";break;case"float":case"number":case"currency":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseFloat("+l+"||0)",o=String(o);break;case"date":case"datetime":o=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",o)),l='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+l+")";break;default:l=self._getStr(l),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(l+" "+i+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,r){return self._compareValues(self.equals,e,t,"==",r)},this.notEquals=function(e,t,r){return self._compareValues(self.equals,e,t,"!==",r)},this.isNull=function(e,t,r){return self._compareValues(self.equals,e,null,"===",r)},this.greater=function(e,t,r){return self._compareValues(self.greater,e,t,">",r)},this.less=function(e,t,r){return self._compareValues(self.less,e,t,"<",r)},this.greaterOrEquals=function(e,t,r){return self._compareValues(self.greaterOrEquals,e,t,">=",r)},this.lessOrEquals=function(e,t,r){return self._compareValues(self.lessOrEquals,e,t,"<=",r)},this.startsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr(0,"+i+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+i+","+i+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,r,i){return self._hasData()?self._getGroup(_data,e,t,r,i):null},this.orderBy=function(e,t,r,i,a){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==r&&(r="text"),null==i&&(i="Y-m-d"),null==a&&(a=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:r,datefmt:i,sfunc:a}),self},this.inSet=function(e,t,r){var i=void 0===t?null:t,a=void 0===r.stype?"text":r.stype;return i=self._getStr('"'+self._toStr(i)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",r):(self._append("jQuery.inArray("+self._getStr(e)+","+i+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,r){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+r+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,r){var i,a=this;return a instanceof $&&a.length>0&&(a=a[0]),"string"==typeof r?r:"string"==typeof(i=$(a).triggerHandler(t,r))?i:(null!=i&&"object"==typeof i||(i=r),$.isFunction(e)?e.call(a,i):i)},fullBoolFeedback:function(e,t){var r=$.makeArray(arguments).slice(2),i=$(this).triggerHandler(t,r);if(i=!1!==i&&"stop"!==i,$.isFunction(e)){var a=e.apply(this,r);!1!==a&&"stop"!==a||(i=!1)}return i},feedback:function(e,t,r,i){var a=this;if(a instanceof $&&a.length>0&&(a=a[0]),null==e||"string"!=typeof i||i.length<2)return null;var l="on"===i.substring(0,2)?"jqGrid"+t+i.charAt(2).toUpperCase()+i.substring(3):"jqGrid"+t+i.charAt(0).toUpperCase()+i.substring(1),o=$.makeArray(arguments).slice(4),n=e[i+r];return o.unshift(l),o.unshift(n),jgrid.fullBoolFeedback.apply(a,o)},builderSortIcons:function(e){var t=this,r=t.p,i=$(t),a=i.jqGrid("getGuiStyles","states.disabled"),l=function(l){var o=r.colModel[e],n=null!=o&&$.isFunction(o.sortIconName)?o.sortIconName:r.sortIconName,s=$.isFunction(n)?n.call(t,{order:l,iCol:e,cm:o}):i.jqGrid("getIconRes","sort."+l);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+l,"horizontal"===r.viewsortcols[1]?"ui-i-"+l:"",a,s,"ui-sort-"+r.direction)};return"<span class='s-ico"+(r.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+l("asc")+"'></span><span class='"+l("desc")+"'></span></span>"},builderFmButon:function(e,t,r,i,a){var l=this.p,o=$(this),n=function(e){return o.jqGrid("getGuiStyles","dialog."+e)};return null==l?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",n("fmButton"),n("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===i?"fm-button-icon-right":"left"===i?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(r?"<span class='fm-button-icon "+(o.jqGrid("getIconRes",r)||r)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,r,i,a,l){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:r,id:i,item:a,iCol:l});if("boolean"!=typeof r&&"number"!=typeof r)return e;if("boolean"!=typeof r||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof r||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var o=String(e).toLowerCase(),n=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];$.inArray(o,["1","true",n[0].toLowerCase()])>=0?e=!0:$.inArray(o,["0","false",n[1].toLowerCase()])>=0&&(e=!1)}return e},parseDataToHtml:function(e,t,r,i,a,l,o){var n,s,d,c,u,h,g,p,f,m=this,v=m.p,b=$(m),w=!1,y=[],C=[],x=!0!==v.altRows||b.jqGrid("isBootstrapGuiStyle")?"":v.altclass,j=v.groupingView,D=!1,_=parseInt(v.rowNum,10),R=$.fn.jqGrid,S=!0===v.treeGrid&&v.treeANode>-1?m.rows[v.treeANode].rowIndex+1:m.rows.length,N=m.formatCol,I=function(e,t,r,i,a,l){var o=m.formatter(e,t,r,a,"add",l);return"<td role='gridcell' "+N(r,i,o,a,e,l)+">"+o+"</td>"},O=function(e,t,r,i,a){var l="&nbsp;",o=!0,n={rowid:e,iRow:r,iCol:t,data:a,checked:i};return $.isFunction(v.hasMultiselectCheckBox)&&(o=v.hasMultiselectCheckBox.call(m,n)),o&&(l=$.isFunction(v.checkboxHtml)?v.checkboxHtml.call(m,n):"<input type='checkbox' id='jqg_"+v.id+"_"+e+"' class='cbox' name='jqg_"+v.id+"_"+e+"'"+(i?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+N(t,r,"",null,e,!0)+">"+l+"</td>"},q=function(e,t,r,i){var a=(parseInt(r,10)-1)*parseInt(i,10)+1+t;return"<td role='gridcell' class='"+R.getGuiStyles.call(b,"rowNum","jqgrid-rownum")+"' "+N(e,t,a,null,t,!0)+">"+a+"</td>"};for(S<=1&&(v.rowIndexes={}),("local"===v.datatype&&!v.deselectAfterSort||v.multiPageSelection)&&(w=!0),l&&(_*=l+1),n=0;n<Math.min(e,_);n++){for(u=t[n],h=r[n],g=null!=i?i[n]:h,d=((1===a?0:a)+n)%2==1?x:"",w?v.multiselect?(c=-1!==$.inArray(u,v.selarrrow))&&null===v.selrow&&(v.selrow=u):c=u===v.selrow:c=!1,p=y.length,y.push(""),s=0;s<v.colModel.length;s++)switch(f=v.colModel[s].name){case"rn":y.push(q(s,n,v.page,v.rowNum));break;case"cb":y.push(O(u,s,n,c,h));break;case"subgrid":y.push(R.addSubGridCell.call(b,s,n+a,u,h));break;default:y.push(I(u,h[f],s,n+a,g,h))}v.grouping&&(R.groupingPrepare&&!j._locgr&&R.groupingPrepare.call(b,h,n),D=$.isFunction(j.groupCollapse)?j.groupCollapse.call(m,{group:j.groups[j.groups.length-1],rowid:u,data:h}):j.groupCollapse),y[p]=m.constructTr(u,D,d,h,g,c),y.push("</tr>"),v.rowIndexes[u]=S,S++,v.grouping&&(C.push(y),y=[]),y.length>v.maxItemsToJoin&&(y=[y.join("")])}return v.grouping&&R.groupingRender&&(o&&(j._locgr=!0),y=[R.groupingRender.call(b,C,_)],jgrid.clearArray(C)),y},fillSelectOptions:function(e,t,r,i,a,l){var o,n,s,d,c,u,h,g,p=[],f=!1,m=function(e,t){if(t>0)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(n=t.split(i),o=0;o<n.length;o++)(s=n[o].split(r)).length>2&&(s[1]=$.map(s,m).join(r)),p.push({value:s[0],innerHtml:s[1],selectValue:$.trim(s[0]),selectText:$.trim(s[1]),selected:!1}),""===s[0]&&(f=!0);else if("object"==typeof t)for(h in t)t.hasOwnProperty(h)&&p.push({value:h,innerHtml:t[h],selectValue:$.trim(h),selectText:$.trim(t[h]),selected:!1}),""===h&&(f=!0);if("string"==typeof l){for(g=a?$.map(l.split(","),function(e){return $.trim(e)}):[$.trim(l)],l=$.trim(l),o=0;o<p.length;o++)c=p[o],a||c.selectValue!==l||(c.selected=!0,u=!0),a&&$.inArray(c.selectValue,g)>-1&&(c.selected=!0,u=!0);if(!u)for(o=0;o<p.length;o++)c=p[o],a||c.selectText!==l||(c.selected=!0),a&&$.inArray(c.selectText,g)>-1&&(c.selected=!0)}for(o=0;o<p.length;o++)c=p[o],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return f}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,r=$.fn.jqGrid;if("string"==typeof e){if(!(t=r[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,i,a=this,l=$(a),o=$.isFunction,n=$.isArray,s=$.extend,d=$.inArray,c=$.trim,u=$.each,h=r.setSelection,g=r.getGridRes,p=o(defaults.fatalError)?defaults.fatalError:alert,f=e.locale||defaults.locale||"en-US",m=null!=locales[f]&&"boolean"==typeof locales[f].isRTL&&locales[f].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",w=function(e){return r.getIconRes.call(a,e)},y=function(e,t){return l.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&n(e.datastr)&&(i=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||p("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),a.p={iconSet:v};var C=s(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,r){if("abort"!==t&&"abort"!==r){var i=e.getResponseHeader("Content-Type"),a=e.responseText||"",o=function(e){try{var t,r=$.parseJSON(e),i=[];for(t in r)r.hasOwnProperty(t)&&"StackTrace"!==t&&i.push(t+": "+r[t]);e=i.join("<br />")}catch(e){}return e};"text/html"===i?a=function(e){var t,r,i,a=document.createElement("div");for(i=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=i&&2===i.length?i[1]:e,r=(t=a.getElementsByTagName("script")).length;r--;)t[r].parentNode.removeChild(t[r]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(a):"application/json"===i?a=o(a):"text/plain"===i&&(a=o(a)),500!==e.status&&0!==e.status&&(a=(t||r)+(r&&r!==t?": "+r:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),l.jqGrid("displayErrorMessage",a||t||r)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,resetPageAfterSort:!0,multiPageSelection:!1,selectAllMode:"filtered",scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:w("grouping.common"),plusicon:w("grouping.plus"),minusicon:w("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:f,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:w("treeGrid.common"),plusLtr:w("treeGrid.plusLtr"),plusRtl:w("treeGrid.plusRtl"),minus:w("treeGrid.minus"),leaf:w("treeGrid.leaf")}},defaults,{navOptions:s(!0,{commonIconClass:w("nav.common"),editicon:w("nav.edit"),addicon:w("nav.add"),delicon:w("nav.del"),searchicon:w("nav.search"),refreshicon:w("nav.refresh"),viewicon:w("nav.view"),saveicon:w("nav.save"),cancelicon:w("nav.cancel"),buttonicon:w("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:s(!0,{commonIconClass:w("actions.common"),editicon:w("actions.edit"),delicon:w("actions.del"),saveicon:w("actions.save"),cancelicon:w("actions.cancel")},jgrid.actionsNav||{}),formEditing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),saveicon:[!0,"left",w("form.save")],closeicon:[!0,"left",w("form.undo")]},jgrid.edit||{}),searching:s(!0,{commonIconClass:w("search.common"),findDialogIcon:w("search.search"),resetDialogIcon:w("search.reset"),queryDialogIcon:w("search.query")},jgrid.search||{}),formViewing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),closeicon:[!0,"left",w("form.cancel")]},jgrid.view||{}),formDeleting:s(!0,{commonIconClass:w("form.common"),delicon:[!0,"left",w("form.del")],cancelicon:[!0,"left",w("form.cancel")]},jgrid.del||{})},e||{}),x=function(e){return g.call(l,e)},j=function(e){var t=jgrid.getRes(C,e);return void 0!==t?t:g.call(l,"defaults."+e)};if(C.recordpos=C.recordpos||("rtl"===C.direction?"left":"right"),C.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==C.autoResizing.widthOfVisiblePartOfSortIcon?C.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===C.iconSet?13:12,C.datatype=void 0!==C.datatype?C.datatype:void 0!==t||null==C.url?"local":null!=C.jsonReader&&"object"==typeof C.jsonReader?"json":"xml",C.jsonReader=C.jsonReader||{},C.url=C.url||"",C.cellsubmit=void 0!==C.cellsubmit?C.cellsubmit:void 0===C.cellurl?"clientArray":"remote",C.gridview=void 0!==C.gridview?C.gridview:null==C.afterInsertRow,void 0!==t&&(C.data=t,e.data=t),void 0!==i&&(C.datastr=i,e.datastr=i),"TABLE"===a.tagName.toUpperCase())if(""===a.id&&l.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)p("Grid can not be used in this ('quirks') mode!");else{l.empty().attr("tabindex","0"),a.p=C,C.id=a.id,C.idSel="#"+jqID(a.id),C.gBoxId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_BOX_DIV),C.gBox=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_BOX_DIV),C.gViewId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),C.gView=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),C.rsId=getGridComponentId.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.rs=getGridComponentIdSelector.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.cbId=getGridComponentId.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),C.cb=getGridComponentIdSelector.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var D=jgrid.fixScrollOffsetAndhBoxPadding,_=function(e){var t,r={},i=e.length;for(t=0;t<i;t++)r[e[t].name]=t;return r},R=function(){var e,t,r={},i=C.colModel,a=i.length;for(e=0;e<a;e++)((t=i[e]).createColumnIndex||C.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(r[i[e].name]={});return r},S=function(e){var t,r,i={},a=e.length;for(t=0;t<a;t++)i["string"==typeof(r=e[t])?r:r.name]=t;return i},N=function(){var e,t,r={};for(this.p.rowIndexes=r,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(r[e.id]=e.rowIndex)},I=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},O=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},q={headers:[],cols:[],footers:[],dragStart:function(e,t,r,i){var a=$(this.bDiv),l=a.closest(C.gBox).offset(),o=i.offset().left+("rtl"===C.direction?0:this.headers[e].width+(jgrid.cell_width?0:O(C.cellLayout,0))-2);this.resizing={idx:e,startX:o,sOL:o,moved:!1,delta:o-t.pageX},this.curGbox=$(C.rs),this.curGbox.prependTo("body"),this.curGbox.css({display:"block",left:o,top:r[1]+l.top+1,height:r[2]}),this.curGbox.css("height",r[2]-(this.curGbox.outerHeight()-this.curGbox.height())+"px"),this.curGbox.data("idx",e),this.curGbox.data("delta",o-t.pageX),I.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,a)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(q.resizing)return q.dragMove(e),!1}).on("mouseup.jqGrid"+C.id,function(){if(q.resizing)return q.dragEnd(),!1})},dragMove:function(e){var t=this.resizing;if(t){var r,i,a=e.pageX+t.delta-t.startX,l=this.headers,o=l[t.idx],n="ltr"===C.direction?o.width+a:o.width-a,s=((C.colModel[t.idx]||{}).autoResizing||{}).minColWidth||C.minResizingWidth;t.moved=!0,n>s&&(null==this.curGbox&&(this.curGbox=$(C.rs)),this.curGbox.css({left:t.sOL+a}),!0===C.forceFit?(r=l[t.idx+C.nv],(i="ltr"===C.direction?r.width-a:r.width+a)>C.autoResizing.minColWidth&&(o.newWidth=n,r.newWidth=i)):(this.newWidth="ltr"===C.direction?C.tblwidth+a:C.tblwidth-a,o.newWidth=n))}},resizeColumn:function(e,t,i){var a,l=this.headers,o=this.footers,n=l[e],s=n.newWidth||n.width,d=getGridComponent(COMPONENT_NAMES.BODY_TABLE,this.bDiv),c=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,this.hDiv).children("thead").children("tr").first()[0].cells;s=parseInt(s,10),C.colModel[e].width=s,n.width=s,c[e].style.width=s+"px",this.cols[e].style.width=s+"px",this.fbRows&&($(this.fbRows[0].cells[e]).css("width",s),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,this.fhDiv)[0].rows[0].cells[e]).css("width",s),C.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,this.fsDiv)[0].rows[0].cells[e]).css("width",s)),o.length>0&&(o[e].style.width=s+"px"),!0!==i&&D.call(d[0]),!0===C.forceFit?(s=(a=l[e+C.nv]).newWidth||a.width,a.width=s,c[e+C.nv].style.width=s+"px",this.cols[e+C.nv].style.width=s+"px",o.length>0&&(o[e+C.nv].style.width=s+"px"),C.colModel[e+C.nv].width=s):(C.tblwidth=this.newWidth||C.tblwidth,!0!==i&&(this.hDiv.scrollLeft=this.bDiv.scrollLeft,C.footerrow&&(this.sDiv.scrollLeft=this.bDiv.scrollLeft))),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||!0===i||r.setGridWidth.call(d,this.newWidth+C.scrollOffset,!1),t||feedback.call(d[0],"resizeStop",s,e)},dragEnd:function(){this.hDiv.style.cursor="default",this.resizing&&(null!==this.resizing&&!0===this.resizing.moved&&($(this.headers[this.resizing.idx].el).removeData("autoResized"),this.resizeColumn(this.resizing.idx,!1)),$(C.rs).removeData("pageX"),this.resizing=!1,setTimeout(function(){$(C.rs).css("display","none").prependTo(C.gBox)},C.doubleClickSensitivity)),this.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+C.id)},populateVisible:function(){var e=this,t=$(e),r=e.grid,i=r.bDiv,a=$(i);r.timer&&clearTimeout(r.timer),r.timer=null;var l=a.height();if(l){var o,n;if(e.rows.length)try{o=e.rows[1],n=o?$(o).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(e){n=r.prevRowHeight}if(n){r.prevRowHeight=n;var s=C.rowNum;r.scrollTop=i.scrollTop;var d,c,u,h=r.scrollTop,g=Math.round(t.position().top)-h,p=g+t.height(),f=n*s;if(p<l&&g<=0&&(void 0===C.lastpage||(parseInt((p+h+f-1)/f,10)||0)<=C.lastpage)&&(c=parseInt((l-p+f-1)/f,10)||1,p>=0||c<2||!0===C.scroll?(d=(Math.round((p+h)/f)||0)+1,g=-1):g=1),g>0&&(d=(parseInt(h/f,10)||0)+1,c=(parseInt((h+l)/f,10)||0)+2-d,u=!0),c){if(C.lastpage&&(d>C.lastpage||1===C.lastpage||d===C.page&&d===C.lastpage))return;r.hDiv.loading?r.timer=setTimeout(function(){r.populateVisible.call(e)},C.scrollTimeout):(C.page=d,u&&(r.selectionPreserver.call(e),r.emptyRows.call(e,!1,!1)),r.populate.call(e,c))}}}},scrollGrid:function(){if(C.scroll){var e=this.scrollTop;void 0===q.scrollTop&&(q.scrollTop=0),e!==q.scrollTop&&(q.scrollTop=e,q.timer&&clearTimeout(q.timer),q.timer=setTimeout(function(){q.populateVisible.call(a)},C.scrollTimeout))}return q.hDiv.scrollLeft=this.scrollLeft,C.footerrow&&(q.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=$(this),t=C.selrow,r=C.selarrrow?$.makeArray(C.selarrrow):null,i=this.grid.bDiv,a=i.scrollLeft,l=function(){var o;if(C.selrow=null,!C.multiPageSelection){if(clearArray(C.selarrrow),C.multiselect&&r&&r.length>0)for(o=0;o<r.length;o++)r[o]!==t&&h.call(e,r[o],!1,null);t&&h.call(e,t,!1,null)}i.scrollLeft=a,e.off(".selectionPreserver",l)};e.on("jqGridGridComplete.selectionPreserver",l)}};a.grid=q,feedback.call(a,"beforeInitGrid"),C.iColByName=_(C.colModel),C.iPropByName=S(C.additionalProperties),jgrid.msie=jgrid.msiever()>0;var E,A=$("<div class='"+y("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!C.multiselect+"'></div>"),T=jgrid.msie;C.direction=c(C.direction.toLowerCase()),-1===d(C.direction,["ltr","rtl"])&&(C.direction="ltr"),E=C.direction,$(A).insertBefore(a),l.removeClass("scroll").appendTo(A);var k=$("<div class='"+y("gBox","ui-jqgrid")+"'></div>");$(k).attr({id:C.gBoxId,dir:E}).insertBefore(A),$(A).attr("id",C.gViewId).appendTo(k),$("<div class='"+y("overlay","jqgrid-overlay")+"' id='lui_"+C.id+"'></div>").insertBefore(A),$("<div class='"+y("loading","loading")+"' id='load_"+C.id+"'>"+j("loadtext")+"</div>").insertBefore(A),l.attr({role:"presentation","aria-labelledby":"gbox_"+a.id});var G,B=function(e,t,r,i,l,n){var s,d,c,u,h,g,p,f=C.colModel[e],m=r,v=f.classes,b=f.align?"text-align:"+f.align+";":"",w=function(e){return"string"==typeof e?e.replace(/'/g,"&#39;"):e},y=" aria-describedby='"+C.id+"_"+f.name+"'";if(!0===f.hidden&&(b+="display:none;"),0===t)b+="width: "+q.headers[e].width+"px;";else if((o(f.cellattr)||"string"==typeof f.cellattr&&null!=jgrid.cellattr&&o(jgrid.cellattr[f.cellattr]))&&(s=o(f.cellattr)?f.cellattr:jgrid.cellattr[f.cellattr],C.useUnformattedDataForCellAttr&&null!=n?m=n[f.name]:f.autoResizable&&(d="<span class='"+C.autoResizing.wrapperClassName+"'>",m=r.substring(d.length,r.length-"</span>".length)),"string"==typeof(u=s.call(a,l,m,i,f,n))))for(u=u.replace(/\n/g,"&#xA;");;){if(null===(h=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(u))||h.length<5)return!p&&f.title&&(p=m),y+" style='"+w(b)+"'"+(v?" class='"+w(v)+"'":"")+(p?" title='"+w(p)+"'":"");switch(g=h[3],u=h[4],h[1].toLowerCase()){case"class":v?v+=" "+g:v=g;break;case"title":p=g;break;case"style":b+=g;break;default:y+=" "+h[1]+"="+h[2]+g+h[2]}}return c=""!==b?"style='"+b+"'":"",c+=(void 0!==v?" class='"+v+"'":"")+(f.title&&m?" title='"+stripHtml(r).replace(/'/g,"&apos;")+"'":""),c+=y},M=function(e){return null==e||""===e?"&#160;":C.autoencode?htmlEncode(e):String(e)},F=function(e){var t=C.treeReader,r=t.loaded,i=t.leaf_field,a=t.expanded_field,l=function(e){return!0===e||"true"===e||"1"===e};if("nested"===C.treeGridModel&&!e[i]){var o=parseInt(e[t.left_field],10),n=parseInt(e[t.right_field],10);e[i]=n===o+1}void 0!==e[r]&&(e[r]=l(e[r])),e[i]=l(e[i]),e[a]=l(e[a])},P=function(e,t){var r,i;for(r in C.indexByColumnData)C.indexByColumnData.hasOwnProperty(r)&&(i=e[r],e.hasOwnProperty(r)&&void 0!==i&&""!==i&&(C.ignoreCase&&(i=String(i).toLowerCase()),void 0===C.indexByColumnData[r][i]&&(C.indexByColumnData[r][i]={}),C.indexByColumnData[r][i][t]=e[r],void 0===C.dataIndexById[t]&&(C.dataIndexById[t]={}),void 0===C.dataIndexById[t][r]&&(C.dataIndexById[t][r]={}),C.dataIndexById[t][r][i]=C.indexByColumnData[r][i]))},L=function(){var e,t,r,i,l,d,c,u,h,g,p,f,m=C.data,v=m.length,b=C.localReader,w=C.additionalProperties,y=b.cell,x=C.arrayReaderInfos;if("local"===C.datatype&&!0===b.repeatitems)for(i=!1===C.keyName?o(b.id)?b.id.call(a,m):b.id:C.keyName,isNaN(i)?o(i)||null!=C.arrayReaderInfos[i]&&(l=C.arrayReaderInfos[i].order):l=Number(i),e=0;e<v;e++){t=m[e],r=y?getAccessor(t,y)||t:t,g=n(r),c={};for(h in x)x.hasOwnProperty(h)&&(f=x[h],d=getAccessor(r,g?f.order:f.name),1===f.type&&null!=(p=w[f.index])&&o(p.convert)&&(d=p.convert(d,r)),void 0!==d&&(c[h]=d));void 0!==c[i]?u=void 0!==c[i]?c[i]:randId():(void 0===(u=getAccessor(t,n(t)?l:i))&&(u=getAccessor(r,n(r)?l:i)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,C.treeGrid&&F(c),s(m[e],c)}else if(C.treeGrid)for(e=0;e<v;e++)F(m[e])},z=function(){var e,t,r,i,a=C.data.length;for(e=!1===C.keyName||C.loadonce&&C.dataTypeOrg?C.localReader.id:C.keyName,C._index={},C.dataIndexById={},C.indexByColumnData=R(),t=0;t<a;t++)i=C.data[t],void 0===(r=getAccessor(i,e))&&(r=String(randId()),void 0===i[e]&&(i[e]=r)),C._index[r]=t,P.call(this,i,r)},H=function(e,t){var r,i,l,n=C.colModel,s=n.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(r=0;r<s;r++)(i=n[r]).cellBuilder=null,e||(l={colModel:i,gid:C.id,pos:r},void 0===i.formatter?i.cellBuilder=C.autoencode?d:c:"string"==typeof i.formatter&&null!=$.fn.fmatter&&o($.fn.fmatter.getCellBuilder)?i.cellBuilder=$.fn.fmatter.getCellBuilder.call(a,i.formatter,l,t||"add"):o(i.getCellBuilder)&&(i.cellBuilder=i.getCellBuilder.call(a,l,t||"add")))},W=function(e,t,i,a){var l=$(this),s=new Date,d=C.datatype,c="local"!==d&&C.loadonce||"xmlstring"===d||"jsonstring"===d,u=("xmlstring"===d||"xml"===d)&&$.isXMLDoc(e),h=C.localReader,g=getAccessor;if(e&&("xml"!==d||u)){switch(-1!==C.treeANode||C.scroll?t=t>1?t:1:(q.emptyRows.call(this,!1,!0),t=1),c&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.grouping&&null!=C.groupingView&&(C.groupingView.groups=[],C.groupingView._locgr=!1),C.localReader.id="_id_"),C.reccount=0,d){case"xml":case"xmlstring":h=C.xmlReader,g=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":h=C.jsonReader}var p,f,m,v,b,w,y,x,j,D,_,R,S,I={},E=C.colModel,A=E.length,T=C.arrayReaderInfos,k={},G=function(e){return function(t){var r=null!=t&&o(t.getAttribute)?t.getAttribute(e):null;return null!==r?r:void 0}},B=function(e){return function(){var t,r=k[e];if(null!=r)return(t=r.childNodes).length>0?t[0].nodeValue:void 0}};C.page=O(g(e,h.page),C.page),C.lastpage=O(g(e,h.total),1),C.records=O(g(e,h.records)),o(h.userdata)?C.userData=h.userdata.call(this,e)||{}:u?g(e,h.userdata,!0).each(function(){C.userData[this.getAttribute("name")]=$(this).text()}):C.userData=g(e,h.userdata)||{},H();var M,L,z,W,V={},U=C.additionalProperties,X=function(e,t){u&&"string"==typeof t&&(/^\w+$/.test(t)?V[e]=B(t):/^\[\w+\]$/.test(t)&&(V[e]=G(t.substring(1,t.length-1))))},Y=function(e){var t=e.name,r=u?e.xmlmap||t:"local"===d&&!C.dataTypeOrg||"jsonstring"===d||"json"===d||"jsonp"===d?e.jsonmap||t:t;!1!==C.keyName&&!0===e.key&&(C.keyName=t),("string"==typeof r||o(r))&&(V[t]=r),o(r)||X(t,r)};for(p=0;p<A;p++)Y(E[p]);for(A=U.length,p=0;p<A;p++)"object"==typeof(z=U[p])&&null!=z?Y(z):X(z,z);if(b=!1===C.keyName?o(h.id)?h.id.call(this,e):h.id:C.keyName,isNaN(b)?o(b)||(T[b]&&(w=T[b].order),u&&!1===C.keyName&&("string"==typeof b&&/^\[\w+\]$/.test(b)?b=G(b.substring(1,b.length-1)):"string"==typeof b&&/^\w+$/.test(b)&&(b=B(b)))):w=Number(b),v=g(e,h.root,!0),h.row)if(1===v.length&&"string"==typeof h.row&&/^\w+$/.test(h.row)){for(W=[],_=(D=v[0].childNodes).length,j=0;j<_;j++)1===(R=D[j]).nodeType&&R.nodeName===h.row&&W.push(R);v=W}else v=g(v,h.row,!0);null==v&&n(e)&&(v=e),v||(v=[]),(m=v.length)>0&&C.page<=0&&(C.page=1);var Z=parseInt(C.rowNum,10);a&&(Z*=a+1);var Q,K,J=[],ee=[];for(W=[],p=0;p<m;p++){if(K=v[p],f=h.repeatitems&&h.cell?g(K,h.cell,!0)||K:K,M=h.repeatitems&&(u||n(f)),I={},k={},u&&!M&&null!=f)for(_=(D=f.childNodes).length,j=0;j<_;j++)1===(R=D[j]).nodeType&&(k[R.nodeName]=R);for(x in T)T.hasOwnProperty(x)&&(S=T[x],M?(L=f[S.order],u&&null!=L&&(L=L.textContent||L.text)):L=null!=V[x]&&"string"!=typeof V[x]?V[x].call(this,f,{cmName:x,iItem:p}):g(f,"string"==typeof V[x]?V[x]:S.name),1===S.type&&null!=(z=U[S.index])&&o(z.convert)&&(L=z.convert(L,f)),void 0!==L&&(I[x]=L));if(void 0!==I[b]?Q=void 0!==I[b]?I[b]:randId():(void 0===(Q=g(K,n(K)?w:b))&&(Q=g(f,n(f)?w:b)),void 0===Q&&(Q=randId())),void 0===I[b]&&(I[b]=Q),Q=String(Q),y=C.idPrefix+Q,C.treeGrid&&F(I),p<Z)ee.push(y),J.push(f),W.push(I);else if(!c)break;(c||!0===C.treeGrid)&&(I._id_=Q,C.data.push(I),P(I,Q),C._index[I._id_]=C.data.length-1)}if(c&&!0!==C.treeGrid){if(C.forceClientSorting)return;C.lastSelectedData=C.data.slice()}var te=jgrid.parseDataToHtml.call(this,m,ee,W,J,t,a,c);H(!0);var re=C.treeANode>-1?C.treeANode:0,ie=$(this.tBodies[0]);if(!0===C.treeGrid&&re>0?$(this.rows[re]).after(te.join("")):C.scroll?ie.append(te.join("")):null==this.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(ie.html(ie.html()+te.join("")),this.grid.cols=this.rows[0].cells):(this.firstElementChild.innerHTML+=te.join(""),this.grid.cols=this.rows[0].cells),C.grouping){N.call(this);var ae,le=function(e){var t=$(this).closest("tr.jqgroup").attr("id");return l.jqGrid("groupingToggle",t,this,e),!1};for(p=0;p<this.rows.length;p++)(ae=$(this.rows[p])).hasClass("jqgroup")&&ae.children("td").children("span.tree-wrap").click(le)}if(!0===C.subGrid)try{r.addSubGrid.call(l,C.iColByName.subgrid)}catch(e){}if(!1===C.gridview||o(C.afterInsertRow))for(p=0;p<Math.min(m,Z);p++)feedback.call(this,"afterInsertRow",ee[p],W[p],J[p]);if(C.totaltime=new Date-s,p>0&&0===C.records&&(C.records=m),clearArray(te),!0===C.treeGrid)try{r.setTreeNode.call(l,re+1,p+re+1)}catch(e){}C.reccount=Math.min(m,Z),C.treeANode=-1,C.userDataOnFooter&&r.footerData.call(l,"set",C.userData,!0),c&&(C.records=m,C.lastpage=Math.ceil(m/Z)),i||this.updatepager(!1,!0),function(){var e,t,r=$.fn.fmatter;for(e=0;e<C.colModel.length;e++)"string"==typeof(t=C.colModel[e].formatter)&&null!=r&&o(r[t])&&o(r[t].pageFinalization)&&r[t].pageFinalization.call(this,e)}.call(this)}},V=function(e){var t,r=e.outerWidth();return r<=0&&(t=$(this).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+y("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),r=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),r>0&&e.parent().width(r),r},U=function(){this.grid.hDiv.loading=!0,C.hiddengrid||r.progressBar.call($(this),{method:"show",loadtype:C.loadui,htmlcontent:j("loadtext")})},X=function(){this.grid.hDiv.loading=!1,r.progressBar.call($(this),{method:"hide",loadtype:C.loadui})},Y=function(e){var t=this,i=$(t),l=t.grid;if(!l.hDiv.loading){var d,c,h=C.scroll&&!1===e,g={},f=C.prmNames;C.page<=0&&(C.page=Math.min(1,C.lastpage)),null!==f.search&&(g[f.search]=C.search),null!==f.nd&&(g[f.nd]=(new Date).getTime()),(isNaN(parseInt(C.rowNum,10))||parseInt(C.rowNum,10)<=0)&&(C.rowNum=C.maxRowNum),null!==f.rows&&(g[f.rows]=C.rowNum),null!==f.page&&(g[f.page]=C.page),null!==f.sort&&(g[f.sort]=C.sortname),null!==f.order&&(g[f.order]=C.sortorder),null!==C.rowTotal&&null!==f.totalrows&&(g[f.totalrows]=C.rowTotal);var m=o(C.loadComplete),v=m?C.loadComplete:null,b=0;if((e=e||1)>1?null!==f.npage?(g[f.npage]=e,b=e-1,e=1):v=function(r){C.page++,l.hDiv.loading=!1,m&&C.loadComplete.call(t,r),Y.call(t,e-1)}:null!==f.npage&&delete C.postData[f.npage],C.grouping&&r.groupingSetup){r.groupingSetup.call(i);var w,y,j,_,R=C.groupingView,S="";for(w=0;w<R.groupField.length;w++){for(y=R.groupField[w],j=0;j<C.colModel.length;j++)(_=C.colModel[j]).name===y&&_.index&&(y=_.index);S+=y+" "+R.groupOrder[w]+", "}g[f.sort]=S+g[f.sort]}s(C.postData,g);var N=C.scroll?t.rows.length-1:1,I=function(){D.call(t),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||r.setGridWidth.call(i,C.tblwidth+C.scrollOffset,!1)},O=function(){var e;if(C.autoresizeOnLoad)r.autoResizeAllColumns.call(i),clearArray(C.columnsToReResizing),C.autowidth&&r.setGridWidth.call(i,i.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<C.columnsToReResizing.length;e++)r.autoResizeColumn.call(i,C.columnsToReResizing[e]);clearArray(C.columnsToReResizing)}},E=function(){feedback.call(t,"loadComplete",c),O(),i.triggerHandler("jqGridAfterLoadComplete",[c]),X.call(t),C.datatype="local",C.datastr=null,I()},A=function(r){i.triggerHandler("jqGridLoadComplete",[r]),v&&v.call(t,r),O(),i.triggerHandler("jqGridAfterLoadComplete",[r]),h&&l.populateVisible.call(t),1===e&&X.call(t),I()},T=function(){var i=function(){var e=$(this),t=C.multiSort?[]:"",i={},a=!1,l={},s=[],d=[],c=x("formatter.date.srcformat"),h=x("formatter.date.newformat");if(!n(C.data))return{};C.multiSort&&K(t,i);var g,f,m=!!C.grouping&&C.groupingView,v=function(e,r,i){var o,n,u=e.index||e.name,p=e.sorttype||"text";if(l[e.name]={reader:C.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:r,stype:p,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===i},"date"!==p&&"datetime"!==p||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(o=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:c,n=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:h):o=n=e.datefmt||"Y-m-d",l[e.name].srcfmt=o,l[e.name].newfmt=n),C.grouping)for(f=0,g=m.groupField.length;f<g;f++)e.name===m.groupField[f]&&(s[f]=l[u],d[f]=u);C.multiSort||a||e.index!==C.sortname&&e.name!==C.sortname||(t=e.name,a=!0)};if(u(C.colModel,function(e){v(this,e)}),u(C.additionalProperties,function(e){v("string"==typeof this?{name:this}:this,e,!0)}),C.treeGrid)return r.SortTree.call(e,t,C.sortorder,null!=l[t]&&l[t].stype?l[t].stype:"text",null!=l[t]&&l[t].srcfmt?l[t].srcfmt:""),!1;var b={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},w=jgrid.from.call(this,C.data);C.ignoreCase&&(w=w.ignoreCase());function y(e){var t,r,i,a,n,s,d,c=0;if(null!=e.groups){for((r=e.groups.length&&"OR"===e.groupOp.toString().toUpperCase())&&w.orBegin(),t=0;t<e.groups.length;t++){c>0&&r&&w.or();try{y(e.groups[t])}catch(e){p(e)}c++}r&&w.orEnd()}if(null!=e.rules)try{for((i=e.rules.length&&"OR"===e.groupOp.toString().toUpperCase())&&w.orBegin(),t=0;t<e.rules.length;t++)n=e.rules[t],a=e.groupOp.toString().toUpperCase(),b[n.op]&&n.field?(c>0&&a&&"OR"===a&&(w=w.or()),null!=(d=l[n.field])&&(s=d.reader,w=b[n.op](w,a)(o(s)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+d.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+s+"')",n.data,l[n.field]))):null!=C.customSortOperations&&null!=C.customSortOperations[n.op]&&o(C.customSortOperations[n.op].filter)&&(w=w.custom(n.op,n.field,n.data)),c++;i&&w.orEnd()}catch(e){p(e)}}if(!0===C.search){var j=C.postData[(C.searching||{}).sFilter||C.prmNames.filters];if(j)"string"==typeof j&&(j=$.parseJSON(j)),y(j);else try{var D=l[C.postData.searchField];w=b[C.postData.searchOper](w)(o(D.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+D.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+D.reader+"')",C.postData.searchString,l[C.postData.searchField])}catch(e){}}if(C.grouping)for(f=0;f<g&&f<d.length&&f<s.length;f++)w.orderBy(d[f],m.groupOrder[f],s[f].stype,s[f].srcfmt);C.multiSort?u(t,function(){w.orderBy(this,i[this],l[this].stype,l[this].srcfmt,l[this].sfunc)}):t&&C.sortorder&&a&&w.orderBy(C.sortname,"DESC"===C.sortorder.toUpperCase()?"d":"a",l[t].stype,l[t].srcfmt,l[t].sfunc),C.lastSelectedData=w.select();var _=parseInt(C.rowNum,10),R=C.lastSelectedData.length,S=parseInt(C.page,10),N=Math.ceil(R/_),I={};if(C.grouping&&C.groupingView._locgr){C.groupingView.groups=[];var O,q,E;if(C.footerrow&&C.userDataOnFooter){for(q in C.userData)C.userData.hasOwnProperty(q)&&(C.userData[q]=0);E=!0}for(O=0;O<R;O++){if(E)for(q in C.userData)C.userData.hasOwnProperty(q)&&(C.userData[q]+=parseFloat(C.lastSelectedData[O][q]||0));r.groupingPrepare.call(e,C.lastSelectedData[O],O,_)}}w=null,l=null;var A=C.localReader;return I[A.total]=N,I[A.page]=S,I[A.records]=R,I[A.root]=C.lastSelectedData.slice((S-1)*_,S*_),I[A.userdata]=C.userData,I}.call(t);W.call(t,i,N,e>1,b),A(i)};if(!feedback.call(t,"beforeRequest"))return;if(o(C.datatype))return void C.datatype.call(t,C.postData,"load_"+C.id,N,e,b);switch(d=C.datatype.toLowerCase(),$(q.eDiv).hide(),d){case"json":case"jsonp":case"xml":case"script":$.ajax(s({url:C.url,type:C.mtype,dataType:d,data:jgrid.serializeFeedback.call(a,C.serializeGridData,"jqGridSerializeGridData",C.postData),success:function(r,i,a){C.jqXhr=null,$(q.eDiv).hide(),o(C.beforeProcessing)&&!1===C.beforeProcessing.call(t,r,i,a)?X.call(t):(W.call(t,r,N,e>1,b),A(r),(C.loadonce||C.treeGrid)&&(C.dataTypeOrg=C.datatype,C.datatype="local",C.forceClientSorting&&T()))},error:function(r,i,a){C.jqXhr=null,o(C.loadError)&&C.loadError.call(t,r,i,a),1===e&&X.call(t)},beforeSend:function(e,r){var i=!0;if(o(C.loadBeforeSend)&&(i=C.loadBeforeSend.call(t,e,r)),void 0===i&&(i=!0),!1===i)return!1;C.jqXhr=e,U.call(t)}},jgrid.ajaxOptions,C.ajaxGridOptions));break;case"xmlstring":U.call(t),c="string"==typeof C.datastr?$.parseXML(C.datastr):C.datastr,W.call(t,c),E(),C.forceClientSorting&&T();break;case"jsonstring":U.call(t),c=C.datastr&&"string"==typeof C.datastr?$.parseJSON(C.datastr):C.datastr,W.call(t,c),E(),C.forceClientSorting&&T();break;case"local":case"clientside":U.call(t),C.datatype="local",T()}}},Z=function(e){var t=this.grid;$(C.cb,t.hDiv).prop("checked",e),C.frozenColumns&&$(C.cb,t.fhDiv).prop("checked",e)},Q=function(e,t){var r,i,l,o,n,s,d=y("states.hover"),c=y("states.disabled"),u="<td class='ui-pg-button "+c+"'><span class='ui-separator'></span></td>",h="",g="<table style='table-layout:auto;white-space: pre;"+("left"===C.pagerpos?"margin-right:auto;":"right"===C.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",p="",f=function(e,t,r){return!!feedback.call(a,"onPaging",e,{newPage:t,currentPage:O(C.page,1),lastPage:O(C.lastpage,1),currentRowNum:O(C.rowNum,10),newRowNum:r})&&(C.selrow=null,C.multiselect&&(C.multiPageSelection||clearArray(C.selarrrow),Z.call(a,!1)),clearArray(C.savedRow),C.editingInfo={},!0)};if(t+="_"+e,r="pg_"+e,i=e+"_left",l=e+"_center",o=e+"_right",$("#"+jqID(e)).append("<div id='"+r+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+i+"' class='ui-jqgrid-pg-left'"+(void 0!==C.pagerLeftWidth?" style='width:"+C.pagerLeftWidth+"px;'":"")+"></td><td id='"+l+"' class='ui-jqgrid-pg-center'"+(void 0!==C.pagerCenterWidth?" style='width:"+C.pagerCenterWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-right'"+(void 0!==C.pagerRightWidth?" style='width:"+C.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),r="#"+jqID(r),C.rowList.length>0){p="<td dir='"+E+"'>";var m=j("pgrecs");p+="<select class='"+y("pager.pagerSelect","ui-pg-selbox")+"' "+(m?"title='"+m+"'":"")+">";var v;for(s=0;s<C.rowList.length;s++)1===(v=C.rowList[s].toString().split(":")).length&&(v[1]=v[0]),p+="<option value='"+v[0]+"'"+(O(C.rowNum,0)===O(v[0],0)?" selected='selected'":"")+">"+v[1]+"</option>";p+="</select></td>"}if("rtl"===E&&(g+=p),!0===C.pginput&&(h="<td dir='"+E+"'>"+jgrid.format(j("pgtext")||"","<input aria-label='Page No.' class='"+y("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===C.pgbuttons){var b=["first","prev","next","last"],x=b.slice(),D=y("pager.pagerButton","ui-pg-button"),_=function(e,r){var i=j("pg"+e);return"<td role='button' tabindex='0' id='"+e+t+"' class='"+D+"' "+(i?"title='"+i+"'":"")+"><span class='"+w("pager."+r)+"'></span></td>"};for("rtl"===E&&b.reverse(),s=0;s<b.length;s++)g+=_(b[s],x[s]),1===s&&(g+=""!==h?u+h+u:"")}else""!==h&&(g+=h);"ltr"===E&&(g+=p),g+="</tr></tbody></table>",!0===C.viewrecords&&$("td"+e+"_"+C.recordpos,r).append("<span dir='"+E+"' style='text-align:"+C.recordpos+"' class='ui-paging-info'></span>");var R=$("td"+e+"_"+C.pagerpos,r);R.append(g),n=V.call(this,R.children(".ui-pg-table")),C._nvtd=[],C._nvtd[0]=n?Math.floor((C.width-n)/2):Math.floor(C.width/3),C._nvtd[1]=0,g=null,$(".ui-pg-selbox",r).on("change",function(){var e=O(this.value,10),t=Math.round(C.rowNum*(C.page-1)/e-.5)+1;return!!f("records",t,e)&&(C.page=t,C.rowNum=e,C.pager&&$(".ui-pg-selbox",C.pager).val(e),C.toppager&&$(".ui-pg-selbox",C.toppager).val(e),Y.call(a),!1)}),!0===C.pgbuttons&&($(".ui-pg-button",r).hover(function(){hasOneFromClasses(this,c)?this.style.cursor="default":($(this).addClass(d),this.style.cursor="pointer")},function(){hasOneFromClasses(this,c)||($(this).removeClass(d),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,c))return!1;var e=O(C.page,1),r=e,i=this.id,l=O(C.lastpage,1),o=!1,n=!0,s=!0,d=!0,u=!0;return 0===l||1===l?(e<=1&&(n=!1,s=!1),d=!1,u=!1):l>1&&e>=1?1===e?(n=!1,s=!1):e===l&&(d=!1,u=!1):l>1&&0===e&&(d=!1,u=!1,e=l-1),this.id==="first"+t&&n&&(i="first",r=1,o=!0),this.id==="prev"+t&&s&&(i="prev",r=e-1,o=!0),this.id==="next"+t&&d&&(i="next",r=e+1,o=!0),this.id==="last"+t&&u&&(i="last",r=l,o=!0),!!f(i,r,O(C.rowNum,10))&&(C.page=r,o&&Y.call(a),!1)})),!0===C.pginput&&$("input.ui-pg-input",r).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,r=O($(this).val(),1);return 13===t?!!f("user",r,O(C.rowNum,10))&&($(this).val(r),C.page=$(this).val()>0?$(this).val():C.page,Y.call(a),!1):this}),R.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&(t=R.find(":focus")).length>0&&t.trigger("click")})},K=function(e,t,r){if(u((C.sortname+" "+C.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=r){var i=$.inArray(r.index||r.name,e);""!==r.lso&&i<0?e.push(r.index||r.name):""===r.lso&&i>=0&&e.splice(i,1)}u(C.colModel,function(){var r,i=this.index||this.name;this.lso&&(r=this.lso.split("-"),$.inArray(i,e)<0&&e.push(i),t[i]=r[r.length-1])})},J=function(e,t,i,l,n,s){var c=this.grid,h=C.colModel[t],g=y("states.disabled");if(null!=h&&h.sortable&&!(C.savedRow.length>0)){if(C.lastsort===t&&""!==C.sortname?"asc"===C.sortorder?C.sortorder="desc":"desc"===C.sortorder?C.sortorder="asc":C.sortorder=h.firstsortorder||"asc":C.sortorder=h.firstsortorder||"asc",h.lso?"asc"===h.lso?h.lso+="-desc":"desc"===h.lso?h.lso+="-asc":"asc-desc"!==h.lso&&"desc-asc"!==h.lso||!C.threeStateSort&&!C.multiSort||(h.lso=""):h.lso=h.firstsortorder||"asc",!i&&C.resetPageAfterSort&&(C.page=1),C.multiSort)!function(e,t){var r,i="",l=C.colModel[e],n=y("states.disabled"),s=C.frozenColumns?$(a.grid.headers[e].el).add($(t)):$(a.grid.headers[e].el),c=s.find("span.s-ico"),h=c.children("span.ui-icon-asc"),g=c.children("span.ui-icon-desc"),p=h,f=g,m=[],v={};if(s.find("span.ui-grid-ico-sort").addClass(n),s.attr("aria-selected","false"),l.lso?(c.show(),"desc"===(r=(r=l.lso.split("-"))[r.length-1])&&(p=g,f=h),p.removeClass(n).css("display",""),C.showOneSortIcon&&f.hide(),s.attr("aria-selected","true")):C.viewsortcols[0]||c.hide(),K(m,v,l),"string"==typeof C.sortname&&""!==C.sortname&&C.sortname.split(",").length<m.length){var b=function(e){u(C.colModel,function(){var t,r="#jqgh_"+jgrid.jqID(C.id+"_"+this.name),i=$(r);if(this.lso&&(this.index||this.name)===e){if("function"==typeof m.indexOf)t=m.indexOf(e);else{for(t=0;t<m.length&&m[t]!==e;t++);t===m.length&&(t=-1)}t>=0&&(m.splice(t,1),this.lso="")}C.frozenColumns&&(i=i.add($(q.fhDiv).find(r))),i.children(".s-ico")[this.lso?"show":"hide"]()})};if("lastClickedFirstSorted"===C.multiSortOrder&&m.length>1)for(m.unshift(m[m.length-1]),m.pop();m.length>C.maxSortColumns;)b(m[m.length-1]);else o(C.multiSortOrder)&&(m=C.multiSortOrder.call(a,{sortNames:m,cm:l,sortDirs:v,removeSorting:b})||m)}u(m,function(){i.length>0&&(i+=", "),i+=this+" "+v[this],C.sortorder=v[this]}),C.sortname=i.substring(0,i.length-C.sortorder.length-1),C.showSortOrder&&u(C.colModel,function(){if(this.sortable){var e=d(this.name,m),t="#jqgh_"+jgrid.jqID(C.id+"_"+this.name),r=$(t);C.frozenColumns&&(r=r.add($(q.fhDiv).find(t))),r.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":o(C.formatSortOrder)?C.formatSortOrder.call(a,{cm:this,sortIndex:e}):e+1)}})}(t,n);else{if(l){if(C.lastsort===t&&C.sortorder===l&&!i)return;C.sortorder=l}var p=c.headers,f=c.fhDiv,m=p[C.lastsort]?$(p[C.lastsort].el):$(),v=C.frozenColumns?$(n):$(p[t].el),b=v.find("span.s-ico"),w=b.children("span.ui-icon-"+C.sortorder),x=b.children("span.ui-icon-"+("asc"===C.sortorder?"desc":"asc"));h=C.colModel[C.lastsort],m.find("span.ui-grid-ico-sort").addClass(g),m.attr("aria-selected","false"),C.frozenColumns&&(f.find("span.ui-grid-ico-sort").addClass(g),f.find("th").attr("aria-selected","false")),C.viewsortcols[0]||(C.lastsort!==t?(C.frozenColumns&&f.find("span.s-ico").hide(),m.find("span.s-ico").hide(),b.show()):""===C.sortname&&b.show()),C.lastsort!==t&&"true"===m.data("autoResized")&&(null!=h&&null!=h.autoResizing&&h.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(C.lastsort),h=C.colModel[t],b.css("display",""),""!==h.lso?(w.removeClass(g).css("display",""),C.showOneSortIcon&&x.removeClass(g).hide(),v.attr("aria-selected","true")):(v.attr("aria-selected","false"),C.threeStateSort&&(C.sortorder="",C.viewsortcols[0]||b.hide())),C.lastsort!==t&&"true"===v.data("autoResized")&&(null!=h&&null!=h.autoResizing&&h.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(t),C.sortname=h.index||e}if(feedback.call(this,"onSortCol",C.sortname,t,C.sortorder,s||{})){if("local"===C.datatype?C.deselectAfterSort&&!C.multiPageSelection&&r.resetSelection.call($(this)):C.multiPageSelection||(C.selrow=null,C.multiselect&&(Z.call(this,!1),clearArray(C.selarrrow))),clearArray(C.savedRow),C.editingInfo={},C.scroll){var j=c.bDiv.scrollLeft;q.emptyRows.call(this,!0,!1),c.hDiv.scrollLeft=j}C.subGrid&&"local"===C.datatype&&$("td.sgexpanded","#"+jqID(C.id)).each(function(){$(this).trigger("click")}),Y.call(this),C.lastsort=t,C.sortname!==e&&t&&(C.lastsort=t)}else C.lastsort=t}},ee=function(e){return C.iColByName[(e.id||"").substring(C.id.length+1)]};-1===d(C.multikey,["shiftKey","altKey","ctrlKey"])&&(C.multikey=!1),C.keyName=!1,C.sortorder=C.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var te,re,ie=jgrid.cmTemplate;for(te=0;te<C.colModel.length;te++)G="string"==typeof(re=C.colModel[te]).template?null==ie||"object"!=typeof ie[re.template]&&!o(ie[re.template])?{}:ie[re.template]:re.template,o(G)&&(G=G.call(a,{cm:re,iCol:te})),re=s(!0,{},C.cmTemplate,G||{},re),!1===C.keyName&&!0===re.key&&(C.keyName=re.name),C.colModel[te]=re;for(C.indexByColumnData=R(),te=0;te<C.additionalProperties.length;te++)re=C.additionalProperties[te],!1===C.keyName&&!0===re.key&&(C.keyName=re.name);if(0===C.colNames.length)for(te=0;te<C.colModel.length;te++)C.colNames[te]=void 0!==C.colModel[te].label?C.colModel[te].label:C.colModel[te].name;if(C.colNames.length===C.colModel.length){if(!0===C.grouping&&(C.scroll=!1,C.rownumbers=!1,C.treeGrid=!1,C.gridview=!0),C.subGrid&&o(r.setSubGrid))try{r.setSubGrid.call(l)}catch(e){}if(C.multiselect&&("left"===C.multiselectPosition||"right"===C.multiselectPosition)){var ae="left"===C.multiselectPosition?"unshift":"push";C.colNames[ae]("<input id='"+C.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),C.colModel[ae]({name:"cb",width:jgrid.cell_width?C.multiselectWidth+C.cellLayout:C.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(C.rownumbers&&(C.colNames.unshift(""),C.colModel.unshift({name:"rn",width:jgrid.cell_width?C.rownumWidth+C.cellLayout:C.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),C.iColByName=_(C.colModel),C.xmlReader=s(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},C.xmlReader),C.jsonReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.jsonReader),C.localReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.localReader),C.scroll&&(C.pgbuttons=!1,C.pginput=!1,C.rowList=[]),!0===C.treeGrid){try{r.setTreeGrid.call(l)}catch(e){}"local"!==C.datatype&&(C.localReader={id:"_id_"}),C.iPropByName=S(C.additionalProperties)}if(function(){var e,t,r,i=C.remapColumns,a=C.colModel,l=a.length,o=[];for(e=0;e<l;e++)r=a[e].name,d(r,C.reservedColumnNames)<0&&o.push(r);if(null!=i)for(t=o.slice(),e=0;e<i.length;e++)o[e]=t[i[e]];C.cmNamesInputOrder=o}(),function(){var e,t,r,i,a,l=C.colModel,o=C.cmNamesInputOrder,n=C.additionalProperties,s=o.length;for(C.arrayReaderInfos={},t=C.arrayReaderInfos,a=0;a<s;a++)r=o[a],d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(void 0!==(i=C.iColByName[r])?t[r]={name:r,index:i,order:a,type:0}:void 0!==(i=C.iPropByName[r])?t[r]={name:r,index:i,order:a,type:1}:r===(C.prmNames.rowidName||"rowid")&&(t[r]={index:i,type:2}));for(s=l.length,e=0;e<s;e++)r=l[e].name,d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(t[r]={name:r,index:e,order:a,type:0},a++);for(s=n.length,e=0;e<s;e++)null==(r=n[e])||t.hasOwnProperty(r)||("object"==typeof r&&"string"===$.type(r.name)&&(r=r.name),t[r]={name:r,index:e,order:a,type:1},a++)}(),C.data.length&&(L.call(a),z.call(a)),!0===C.shrinkToFit&&!0===C.forceFit)for(te=C.colModel.length-1;te>=0;te--)if(!0!==C.colModel[te].hidden){C.colModel[te].resizable=!1;break}var le,oe,ne,se,de,ce,ue,he,ge=[],pe=[],fe=[],me="<thead><tr class='ui-jqgrid-labels' role='row'>",ve="<tbody><tr style='display:none;'>",be=y("states.hover"),we=y("states.disabled");if(C.multiSort){ge=C.sortname.split(",");var ye;for(ye=0;ye<ge.length;ye++)fe=c(ge[ye]).split(" "),ge[ye]=c(fe[0]),pe[ye]=fe[1]?c(fe[1]):C.sortorder||"asc"}for(te=0;te<C.colNames.length;te++){switch(re=C.colModel[te],de=C.headertitles||re.headerTitle?" title='"+stripHtml("string"==typeof re.headerTitle?re.headerTitle:C.colNames[te])+"'":"",me+="<th id='"+C.id+"_"+re.name+"' class='"+y("colHeaders","ui-th-column ui-th-"+E+" "+(re.labelClasses||""))+"'"+de+">",le=re.index||re.name,re.labelAlign){case"left":ce="text-align:left;";break;case"right":ce="text-align:right;";break;case"likeData":ce=void 0===re.align||"left"===re.align?"text-align:left;":"right"===re.align?"text-align:right;":"";break;default:ce=""}me+="<div id='jqgh_"+C.id+"_"+re.name+"'"+(T?" class='ui-th-div-ie'":"")+(""===ce?"":" style='"+ce+"'")+" role='columnheader'>",he=re.autoResizable&&"actions"!==re.formatter||re.rotated?"<span class='"+C.autoResizing.wrapperClassName+"'>"+C.colNames[te]+"</span>":C.colNames[te],C.sortIconsBeforeText?(me+=(C.builderSortIcons||jgrid.builderSortIcons).call(a,te),me+=he):(me+=he,me+=(C.builderSortIcons||jgrid.builderSortIcons).call(a,te)),me+="</div></th>",ve+="<td></td>",re.width=re.width?parseInt(re.width,10):150,"boolean"!=typeof re.title&&(re.title=!0),re.lso="",le===C.sortname&&(C.lastsort=te,re.lso=C.sortorder||re.firstsortorder||"asc"),C.multiSort&&-1!==(fe=d(le,ge))&&(re.lso=pe[fe])}me+="</tr></thead>",ve+="</tr></tbody>";var Ce=$("<table class='"+y("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+C.id+"'>"+me+ve+"</table>");if($(Ce[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(be)},function(){$(this).removeClass(be)}),C.multiselect&&$(C.cb,Ce).on("click",function(){var e,t,r,i=y("states.select"),l=[],o=C.iColByName.cb,n=function(e,t){$(e)[t?"addClass":"removeClass"](i).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==o&&$(e.cells[o]).children("input.cbox").prop("checked",t)},s=q.fbRows,d=we+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",c=C._index;if(clearArray(C.selarrrow),this.checked){if(e=!0,C.selrow=a.rows.length>1?a.rows[a.rows.length-1].id:null,C.multiPageSelection&&("local"===C.datatype||C.treeGrid))if("filtered"===C.selectAllMode&&null!=C.lastSelectedData&&C.lastSelectedData.length>0)for(C.selarrrow=[],r=0;r<C.lastSelectedData.length;r++)C.lastSelectedData[r].hasOwnProperty(C.localReader.id)&&C.selarrrow.push(C.idPrefix+C.lastSelectedData[r][C.localReader.id]);else if(null!=C.data&&C.data.length>0&&null!=c)for(t in c)c.hasOwnProperty(t)&&C.selarrrow.push(C.idPrefix+t)}else e=!1,C.selrow=null;var u=e?C.selarrrow:l;$(a.rows).each(function(t){hasOneFromClasses(this,d)||(n(this,e),$.inArray(this.id,u)<0&&u.push(this.id),s&&n(s[t],e))}),feedback.call(a,"onSelectAll",e?C.selarrrow:l,e)}),!0===C.autowidth){var xe=Math.floor($(k).innerWidth());C.width=xe>0?xe:"nw"}isNaN(C.width)?isNaN(parseFloat(C.width))||(C.width=parseFloat(C.width)):C.width=Number(C.width),C.widthOrg=C.width,function(){var e,t,r,i,a=0,l=jgrid.cell_width?0:O(C.cellLayout,0),o=0,n=O(C.scrollOffset,0),s=!1,c=0,h=jgrid.isCellClassHidden;u(C.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),C.grouping&&C.autowidth){var e=d(this.name,C.groupingView.groupField);e>=0&&C.groupingView.groupColumnShow.length>e&&(this.hidden=!C.groupingView.groupColumnShow[e])}this.widthOrg=t=O(this.width,0),!1!==this.hidden||h(this.classes)||(a+=t+l,this.fixed?c+=t+l:o++)}),isNaN(C.width)&&(C.width=a+(!1!==C.shrinkToFit||isNaN(C.height)?0:n)),q.width=C.width,C.tblwidth=a,!1===C.shrinkToFit&&!0===C.forceFit&&(C.forceFit=!1),!0===C.shrinkToFit&&o>0&&(r=q.width-l*o-c,isNaN(C.height)||(r-=n,s=!0),a=0,u(C.colModel,function(i){!1!==this.hidden||h(this.classes)||this.fixed||(t=Math.round(r*this.width/(C.tblwidth-l*o-c)),this.width=t,a+=t,e=i)}),i=0,s?q.width-c-(a+l*o)!==n&&(i=q.width-c-(a+l*o)-n):s||1===Math.abs(q.width-c-(a+l*o))||(i=q.width-c-(a+l*o)),C.colModel[e].width+=i,C.tblwidth=a+i+l*o+c,C.tblwidth>C.width&&(C.colModel[e].width-=C.tblwidth-parseInt(C.width,10),C.tblwidth=C.width))}(),$(k).css("width",q.width+"px").append("<div class='"+y("resizer","ui-jqgrid-resize-mark")+"' id='"+C.rsId+"'>&#160;</div>"),$(C.rs).on("selectstart",function(){return!1}).click(I).dblclick(function(e){var t=$(this).data("idx"),i=$(this).data("pageX"),o=C.colModel[t];if(null==i||null==o)return!1;var n=String(i).split(";"),s=parseFloat(n[0]),d=parseFloat(n[1]);return(2!==n.length||!(Math.abs(s-d)>5||Math.abs(e.pageX-s)>5||Math.abs(e.pageX-d)>5))&&(feedback.call(a,"resizeDblClick",t,o,e)&&o.autoResizable&&r.autoResizeColumn.call(l,t),feedback.call(a,"afterResizeDblClick",{iCol:t,cm:o,cmName:o.name}),!1)}),$(A).css("width",q.width+"px");var $e="";C.footerrow&&($e+="<table role='presentation' style='width:1px' class='"+y("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+y("rowFooter","footrow footrow-"+E)+"'>");var je="<tr class='"+y("gridRow","jqgfirstrow ui-row-"+C.direction)+"' role='row' style='height:auto'>";if(C.disableClick=!1,$("th",Ce[0].tHead.rows[0]).each(function(e){var t=C.colModel[e],r=t.name,i=$(this),l=i.children("div"),n=l.children("span.s-ico"),s=C.showOneSortIcon;oe=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(ne=document.createElement("span"),$(ne).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+E).on("selectstart",function(){return!1}),i.addClass(C.resizeclass)):ne="",i.css("width",oe+"px").prepend(ne),ne=null;var c="";if(!0===t.hidden&&(i.css("display","none"),c="display:none;"),je+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+oe+"px;"+c+"'></td>",q.headers[e]={width:oe,el:this},"boolean"!=typeof(se=t.sortable)&&(t.sortable=!0,se=!0),"cb"!==r&&"subgrid"!==r&&"rn"!==r&&se&&C.viewsortcols[2]&&l.addClass("ui-jqgrid-sortable"),se)if(C.multiSort){var u="desc"===t.lso?"asc":"desc";C.viewsortcols[0]?(n.css("display",""),t.lso&&(n.children("span.ui-icon-"+t.lso).removeClass(we),s&&n.children("span.ui-icon-"+u).hide())):t.lso&&(n.css("display",""),n.children("span.ui-icon-"+t.lso).removeClass(we),s&&n.children("span.ui-icon-"+u).hide()),C.showSortOrder&&(fe=d(r,ge),n["beforeSortIcons"===C.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(fe<0?"&nbsp;":o(C.formatSortOrder)?C.formatSortOrder.call(a,{cm:this,sortIndex:fe}):fe+1)+"</span>"))}else{var h="desc"===C.sortorder?"asc":"desc";C.viewsortcols[0]?(n.css("display",""),e===C.lastsort&&(n.children("span.ui-icon-"+C.sortorder).removeClass(we),s&&n.children("span.ui-icon-"+h).hide())):e===C.lastsort&&""!==t.lso&&(n.css("display",""),n.children("span.ui-icon-"+C.sortorder).removeClass(we),s&&n.children("span.ui-icon-"+h).hide())}C.footerrow&&($e+="<td role='gridcell' "+B(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,r=$(this),i=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=ee(this))&&(!0===C.forceFit&&(C.nv=function(e){var t,r=e,i=e;for(t=e+1;t<C.colModel.length;t++)if(!0!==C.colModel[t].hidden){i=t;break}return i-r}(t)),q.dragStart(t,e,function(){var e=[r.position().left+r.outerWidth()];return"rtl"===C.direction&&(e[0]=C.width-e[0]),e[0]-=i?0:q.bDiv.scrollLeft,e.push($(q.hDiv).position().top),e.push($(q.bDiv).offset().top-$(q.hDiv).offset().top+$(q.bDiv).height()+(q.sDiv?$(q.sDiv).height():0)),e}(),r)),!1}).click(function(e){if(C.disableClick)return C.disableClick=!1,!1;var t,r,i="th.ui-th-column>div";C.viewsortcols[2]?i+=".ui-jqgrid-sortable":i+=">span.s-ico>span.ui-grid-ico-sort";var l=$(e.target).closest(i);if(1===l.length){C.viewsortcols[2]||(t=!0,r=l.hasClass("ui-icon-desc")?"asc":"desc");var o=ee(this);return null!=o&&J.call(a,$("div",this)[0].id.substring(5+C.id.length+1),o,t,r,this,e),!1}}),C.sortable&&o(r.sortableColumns))try{r.sortableColumns.call(l,$(Ce[0].tHead.rows[0]))}catch(e){}C.footerrow&&($e+="</tr></tbody></table>"),je+="</tr>",l.html("<tbody>"+je+"</tbody>"),l.addClass(y("grid","ui-jqgrid-btable"+(!0===C.altRows&&l.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var De=!(!C.caption||!0!==C.hiddengrid),_e=$("<div class='ui-jqgrid-hbox"+("rtl"===E?"-rtl":"")+"'></div>"),Re=y("top"),Se=y("bottom");if(q.hDiv=document.createElement("div"),$(q.hDiv).css({width:q.width+"px"}).addClass(y("hDiv","ui-jqgrid-hdiv")).append(_e).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(_e).append(Ce),Ce=null,De&&$(q.hDiv).hide(),C.rowNum=parseInt(C.rowNum,10),(isNaN(C.rowNum)||C.rowNum<=0)&&(C.rowNum=C.maxRowNum),C.pager){var Ne,Ie;"string"==typeof C.pager&&"#"!==C.pager.substr(0,1)?(Ie=C.pager,Ne=$("#"+jqID(C.pager))):!0===C.pager?(Ie=randId(),(Ne=$("<div id='"+Ie+"'></div>")).appendTo("body"),C.pager="#"+jqID(Ie)):Ie=(Ne=$(C.pager)).attr("id"),Ne.length>0?(Ne.css({width:q.width+"px"}).addClass(y("pager.pager","ui-jqgrid-pager "+Se)).appendTo(k),De&&Ne.hide(),Q.call(a,Ie,""),C.pager="#"+jqID(Ie)):C.pager=""}!1===C.cellEdit&&!0===C.hoverrows&&l.on("mouseover.jqGrid",function(e){ue=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(ue).attr("class")&&$(ue).addClass(be)}).on("mouseout.jqGrid",function(e){ue=$(e.target).closest("tr.jqgrow"),$(ue).removeClass(be)});var Oe=function(e){var t,r,i;do{if((t=$(e).closest("td")).length>0){if(i=(r=t.parent()).parent().parent(),r.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(t.length>0);return t};l.before(q.hDiv).click(function(e){var t=y("states.select"),i=e.target,o=Oe.call(a,i),n=o.parent();if(0!==n.length&&!hasOneFromClasses(n,we)){var s=n[0].id,d=o[0].cellIndex,c=$(i).hasClass("cbox")&&$(i).is(":enabled")&&!hasOneFromClasses(i,we),u=feedback.call(a,"beforeSelectRow",s,e),g=!1,p=jgrid.detectRowEditing.call(a,s),f=null!=p&&"cellEditing"!==p.mode;if("A"!==i.tagName&&(!f||c)){if(feedback.call(a,"onCellSelect",s,d,o.html(),e),!0===C.cellEdit){if(u&&C.multiselect&&c){if(h.call(l,s,!0,e),c&&!C.noCellSelection)return;g=!0}try{r.editCell.call(l,n[0].rowIndex,d,!0)}catch(e){}if(!C.multiselect||!C.noCellSelection||C.multiboxonly&&g)return}if(u)if(C.multikey)e[C.multikey]&&!g?h.call(l,s,!0,e):C.multiselect&&c&&(c=$("#jqg_"+jqID(C.id)+"_"+s).is(":checked"),$("#jqg_"+jqID(C.id)+"_"+s).prop("checked",!c));else if(C.multiselect&&C.multiboxonly)if(c&&!g)h.call(l,s,!0,e);else{var m=C.frozenColumns?C.id+"_frozen":"";$(C.selarrrow).each(function(e,i){var a=r.getGridRowById.call(l,i);a&&$(a).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i)).prop("checked",!1),m&&($("#"+jqID(i),"#"+jqID(m)).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i),"#"+jqID(m)).prop("checked",!1))}),clearArray(C.selarrrow),g||h.call(l,s,!0,e)}else{var v=C.selrow;g||h.call(l,s,!0,e),"toggle"!==C.singleSelectClickMode||C.multiselect||v!==s||(a.grid.fbRows&&(n=n.add(a.grid.fbRows[n[0].rowIndex]===n[0]?a.rows[n[0].rowIndex]:a.grid.fbRows[n[0].rowIndex])),n.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),C.selrow=null)}else c&&$(i).prop("checked",!1)}}}).on("reloadGrid",function(e,t){var i=this.grid,a=$(this),l=this.p;if(!0===l.treeGrid&&(l.datatype=l.treedatatype),t=s({},defaults.reloadGridOptions||{},l.reloadGridOptions||{},t||{}),"local"===l.datatype&&l.dataTypeOrg&&l.loadonce&&t.fromServer&&(l.datatype=l.dataTypeOrg,delete l.dataTypeOrg),t.current&&i.selectionPreserver.call(this),"local"===l.datatype?(l.multiPageSelection||r.resetSelection.call(a),l.data.length&&(L.call(this),z.call(this))):l.treeGrid||l.multiPageSelection||(l.selrow=null,l.multiselect&&(clearArray(l.selarrrow),Z.call(this,!1)),clearArray(l.savedRow),l.editingInfo={}),l.iRow=-1,l.iCol=-1,l.scroll&&q.emptyRows.call(this,!0,!1),t.page){var o=parseInt(t.page,10);o>l.lastpage&&(o=l.lastpage),o<1&&(o=1),l.page=o,i.prevRowHeight?i.bDiv.scrollTop=(o-1)*i.prevRowHeight*l.rowNum:i.bDiv.scrollTop=0}return i.prevRowHeight&&l.scroll&&void 0===t.page?(delete l.lastpage,i.populateVisible.call(this)):i.populate.call(this),!0===l._inlinenav&&a.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=Oe.call(a,e.target),r=t.parent();if(t.length>0&&!feedback.call(a,"ondblClickRow",r.attr("id"),r[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=Oe.call(a,e.target),r=t.parent(),i=r.attr("id");if(0!==t.length)return C.multiselect||C.selrow===i||!0!==C.selectOnContextMenu||h.call(l,i,!0,e),!!feedback.call(a,"onRightClickRow",i,r[0].rowIndex,t[0].cellIndex,e)&&void 0}),q.bDiv=document.createElement("div"),T&&"auto"===String(C.height).toLowerCase()&&(C.height="100%"),$(q.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(a)).addClass("ui-jqgrid-bdiv").css({height:C.height+(isNaN(C.height)?"":"px"),width:q.width+"px"}).scroll(q.scrollGrid),C.maxHeight&&$(q.bDiv).css("max-height",C.maxHeight+(isNaN(C.maxHeight)?"":"px")),l.css({width:"1px"}),$.support.tbody||2===$(">tbody",a).length&&$(">tbody:gt(0)",a).remove(),C.multikey&&$(q.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),De&&$(q.bDiv).hide(),q.cDiv=document.createElement("div");var qe=w("gridMinimize.visible"),Ee=w("gridMinimize.hidden"),Ae=j("showhide"),Te=!0===C.hidegrid?$("<a role='link' class='"+y("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ae?" title='"+Ae+"'":"")+"/>").hover(function(){Te.addClass(be)},function(){Te.removeClass(be)}).append("<span class='"+qe+"'></span>"):"";if($(q.cDiv).append("<span class='ui-jqgrid-title'>"+C.caption+"</span>").append(Te).addClass(y("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===E?"-rtl ":" ")+Re)),$(q.cDiv).insertBefore(q.hDiv),C.toolbar[0]){q.uDiv=document.createElement("div"),"top"===C.toolbar[1]?$(q.uDiv).insertBefore(q.hDiv):"bottom"===C.toolbar[1]&&$(q.uDiv).insertAfter(q.hDiv);var ke=y("toolbarUpper","ui-userdata");"both"===C.toolbar[1]?(q.ubDiv=document.createElement("div"),$(q.uDiv).addClass(ke).attr("id","t_"+C.id).insertBefore(q.hDiv),$(q.ubDiv).addClass(y("toolbarBottom","ui-userdata")).attr("id","tb_"+C.id).insertAfter(q.hDiv),De&&$(q.ubDiv).hide()):$(q.uDiv).width(q.width).addClass(ke).attr("id","t_"+C.id),De&&$(q.uDiv).hide()}if("string"==typeof C.datatype&&(C.datatype=C.datatype.toLowerCase()),C.toppager?(C.toppager=C.id+"_toppager",q.topDiv=$("<div id='"+C.toppager+"'></div>")[0],$(q.topDiv).addClass(y("pager.pager","ui-jqgrid-toppager"+(C.caption?"":" "+Re))).css({width:q.width+"px"}).insertBefore(q.hDiv),Q.call(a,C.toppager,"_t"),C.toppager="#"+jqID(C.toppager)):""!==C.pager||C.scroll||(C.rowNum=C.maxRowNum),C.footerrow&&(q.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],_e=$("<div class='ui-jqgrid-hbox"+("rtl"===E?"-rtl":"")+"'></div>"),$(q.sDiv).append(_e).width(q.width).insertAfter(q.hDiv),$(_e).append($e),q.footers=$(".ui-jqgrid-ftable",q.sDiv)[0].rows[0].cells,C.rownumbers&&(q.footers[0].className=y("rowNum","jqgrid-rownum")),De&&$(q.sDiv).hide()),_e=null,C.caption){var Ge=C.datatype;!0===C.hidegrid&&($(".ui-jqgrid-titlebar-close",q.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",r=this;!0===C.toolbar[0]&&("both"===C.toolbar[1]&&(t+=",#"+jqID($(q.ubDiv).attr("id"))),t+=",#"+jqID($(q.uDiv).attr("id")));var i=$(t,C.gView).length;return C.toppager&&(t+=","+C.toppager),"visible"===C.gridstate?$(t,C.gBox).slideUp("fast",function(){0===--i&&($("span",r).removeClass(qe).addClass(Ee),C.gridstate="hidden",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).hide(),$(q.cDiv).addClass(Se),De||feedback.call(a,"onHeaderClick",C.gridstate,e))}):"hidden"===C.gridstate&&($(q.cDiv).removeClass(Se),$(t,C.gBox).slideDown("fast",function(){0===--i&&($("span",r).removeClass(Ee).addClass(qe),De&&(C.datatype=Ge,Y.call(a),De=!1),C.gridstate="visible",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).show(),De||feedback.call(a,"onHeaderClick",C.gridstate,e))})),!1}),De&&(C.datatype="local",$(".ui-jqgrid-titlebar-close",q.cDiv).trigger("click")))}else $(q.cDiv).hide(),$(q.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(q.hDiv).after(q.bDiv),q.eDiv=$("<div class='"+y("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+E)+"' style='display:none;'><span class='"+y("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(q.hDiv).after(q.eDiv),$(k).click(I).dblclick(function(e){var t=$(C.rs),i=t.offset(),o=t.data("idx"),n=t.data("delta"),s=C.colModel[o],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==s)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),h=parseFloat(c[1]);return(2!==c.length||!(Math.abs(u-h)>5||Math.abs(e.pageX-u)>5||Math.abs(e.pageX-h)>5))&&(feedback.call(a,"resizeDblClick",o,s)&&i.left-1<=e.pageX+n&&e.pageX+n<=i.left+t.outerWidth()+1&&s.autoResizable&&r.autoResizeColumn.call(l,o),feedback.call(a,"afterResizeDblClick",{iCol:o,cm:s,cmName:s.name}),!1)}),C.pager||$(q.cDiv).nextAll("div:visible").filter(":last").addClass(Se),$(".ui-jqgrid-labels",q.hDiv).on("selectstart",function(){return!1}),a.formatCol=B,a.sortData=J,a.updatepager=function(e,t){var r,i,a,l,o,n,s,d,c=this,u=$(c),h=c.grid,g=C.pager||"",p=C.pager?"_"+C.pager.substr(1):"",f=h.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=C.toppager?"_"+C.toppager.substr(1):"",b=y("states.hover"),w=y("states.disabled");if((a=parseInt(C.page,10)-1)<0&&(a=0),o=(a*=parseInt(C.rowNum,10))+C.reccount,C.scroll){var D=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,f)[0].rows).slice(1);a=o-D.length,C.reccount=D.length;var _=D.outerHeight()||h.prevRowHeight;if(_){var R=a*_,S=jgrid.fixMaxHeightOfDiv.call(c,parseInt(C.records,10)*_);$(f).children("div").first().css({height:S+"px"}).children("div").first().css({height:R+"px",display:""}),0===f.scrollTop&&C.page>1&&(f.scrollTop=C.rowNum*(C.page-1)*_)}f.scrollLeft=h.hDiv.scrollLeft}if(g+=C.toppager?(g?",":"")+C.toppager:""){if(s=x("formatter.integer")||{},r=O(C.page),i=O(C.lastpage),$(".selbox",g).prop("disabled",!1),!0===C.pginput){var N=$(".ui-pg-input",g),I=String(C.page).length;N.val(C.page),N.each(function(){var e=parseInt($(this).attr("size"),10);e>0&&e<I&&$(this).attr("size",I)}),d=C.toppager?"#sp_1"+p+",#sp_1"+v:"#sp_1"+p,$(d).html($.fmatter?m(C.lastpage,s):C.lastpage).closest(".ui-pg-table").each(function(){V.call(c,$(this))})}C.viewrecords&&(0===C.reccount?$(".ui-paging-info",g).html(j("emptyrecords")):(l=a+1,n=C.records,$.fmatter&&(l=m(l,s),o=m(o,s),n=m(n,s)),$(".ui-paging-info",g).html(jgrid.format(j("recordtext"),l,o,n)))),!0===C.pgbuttons&&(i<=0&&(r=0),r<=0&&(r=i=0),1===r||0===r?($("#first"+p+", #prev"+p).addClass(w).removeClass(b),C.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(w).removeClass(b)):($("#first"+p+", #prev"+p).removeClass(w),C.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(w)),r===i||0===r?($("#next"+p+", #last"+p).addClass(w).removeClass(b),C.toppager&&$("#next_t"+v+", #last_t"+v).addClass(w).removeClass(b)):($("#next"+p+", #last"+p).removeClass(w),C.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(w)))}!0===e&&!0===C.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(a+1+e)}),t&&C.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},a.refreshIndex=z,a.addItemDataToColumnIndex=P,a.removeItemDataFromColumnIndex=function(e){var t,r,i,a=C.dataIndexById[e];if(null!=a){for(t in a)if(a.hasOwnProperty(t)){r=a[t];for(i in r)r.hasOwnProperty(i)&&(delete C.indexByColumnData[t][i][e],$.isEmptyObject(C.indexByColumnData[t][i])&&delete C.indexByColumnData[t][i])}delete C.dataIndexById[e]}},a.generateValueFromColumnIndex=function(e,t,r){var i,a,l=$(this).jqGrid("getUniqueValueFromColumnIndex",e),o="";if(null!=l)for(r=r||";",t=t||":",i=0,a=l.length;i<a;i++)""!==o&&(o+=r||";"),o+=l[i]+(t||":")+l[i];return o},a.setHeadCheckBox=Z,a.fixScrollOffsetAndhBoxPadding=D,a.constructTr=function(e,t,i,a,l,n){var s,d="-1",c="",u=t?"display:none;":"",h=y("gridRow","jqgrow ui-row-"+C.direction)+(i?" "+i:"")+(n?" "+y("states.select"):""),g=$(this).triggerHandler("jqGridRowAttr",[a,l,e]);if("object"!=typeof g&&(g=o(C.rowattr)?C.rowattr.call(this,a,l,e):"string"==typeof C.rowattr&&null!=jgrid.rowattr&&o(jgrid.rowattr[C.rowattr])?jgrid.rowattr[C.rowattr].call(this,a,l,e):{}),null!=g&&!$.isEmptyObject(g)){g.hasOwnProperty("id")&&(e=g.id,delete g.id),g.hasOwnProperty("tabindex")&&(d=g.tabindex,delete g.tabindex),g.hasOwnProperty("style")&&(u+=g.style,delete g.style),g.hasOwnProperty("class")&&(h+=" "+g.class,delete g.class);try{delete g.role}catch(e){}for(s in g)g.hasOwnProperty(s)&&(c+=" "+s+"="+g[s])}if(C.treeGrid&&parseInt(a[C.treeReader.level_field],10)!==parseInt(C.tree_root_level,10)){var p=r.getNodeParent.call($(this),a);!p||!p.hasOwnProperty(C.treeReader.expanded_field)||p[C.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+h+"'"+(""===u?"":" style='"+u+"'")+c+">"},a.formatter=function(e,t,r,i,l,n){var s,d=C.colModel[r];if(void 0!==d.formatter){var c={rowId:e=""!==String(C.idPrefix)?(u=e,stripPref(C.idPrefix,u)):e,colModel:d,gid:C.id,pos:r,rowData:n||i};s=o(d.cellBuilder)?d.cellBuilder.call(a,t,c,i,l):o(d.formatter)?d.formatter.call(a,t,c,i,l):$.fmatter?$.fn.fmatter.call(a,d.formatter,t,c,i,l):M(t)}else s=M(t);var u;if(s=d.autoResizable&&"actions"!==d.formatter?"<span class='"+C.autoResizing.wrapperClassName+"'>"+s+"</span>":s,C.treeGrid&&"edit"!==l&&(null==C.ExpandColumn&&0===r||C.ExpandColumn===d.name)){null==n&&(n=C.data[C._index[e]]);var h=parseInt(n[C.treeReader.level_field]||0,10),g=0===parseInt(C.tree_root_level,10)?h:h-1,p=n[C.treeReader.leaf_field],f=n[C.treeReader.expanded_field],m=n[C.treeReader.icon_field],v=p?(null!=m&&""!==m?m:C.treeIcons.leaf)+" tree-leaf":f?C.treeIcons.minus+" tree-minus":C.treeIcons.plus+" tree-plus";if(!p&&m&&"string"==typeof m){var b=m.split(",");2===b.length&&(v=f?b[0]:b[1])}s="<div class='tree-wrap' style='width:"+18*(g+1)+"px;'><div class='"+mergeCssClasses(C.treeIcons.commonIconClass,v,"treeclick")+"' style='"+(!0===C.ExpandColClick?"cursor:pointer;":"")+("rtl"===C.direction?"margin-right:":"margin-left:")+18*g+"px;'></div></div><span class='cell-wrapper"+(p?"leaf":"")+"'"+(C.ExpandColClick?" style='cursor:pointer;'":"")+">"+s+"</span>"}return s},s(q,{populate:Y,emptyRows:function(e,t){var r=q.bDiv,i=null!=q.fbDiv?q.fbDiv.children(".ui-jqgrid-btable")[0]:null,a=function(e){if(e){var t=e.rows,r=t[0];if(C.deepempty)t&&$(t).slice(1).remove();else if(C.quickEmpty)if("quickest"===C.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(r);else for(;t.length>1;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(r)}};$(this).off(".jqGridFormatter"),a(this),a(i),e&&C.scroll&&($(r.firstChild).css({height:"auto"}),$(r.firstChild.firstChild).css({height:0,display:"none"}),0!==r.scrollTop&&(r.scrollTop=0)),!0===t&&C.treeGrid&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.dataIndexById={},C.indexByColumnData={}),C.rowIndexes={},C.iRow=-1,C.iCol=-1},beginReq:U,endReq:X}),a.addXmlData=W,a.addJSONData=W,a.rebuildRowIndexes=N,a.grid.cols=a.rows[0].cells,feedback.call(a,"onInitGrid"),C.treeGrid&&"local"===C.datatype&&null!=C.data&&C.data.length>0&&(C.datatype="jsonstring",C.datastr=C.data,C.data=[]),Y.call(a),C.hiddengrid=!1}else p(x("errors.model"))}else p("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var r=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),i=jgrid.getRes(jgrid,e);return"object"!=typeof r||null===r||$.isArray(r)?void 0!==i?i:r:$.extend(!0,{},r,i||{})},getGuiStyles:function(e,t){var r=this instanceof $&&this.length>0?this[0]:this;if(!r||!r.grid||!r.p)return"";var i,a=r.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",l=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===l&&"string"==typeof(i=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(l=jgrid.getRes(jgrid.guiStyles[i],e)),jgrid.mergeCssClasses(l||"",t||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(t&&t.grid&&t.p&&e){var r=$(t.grid.eDiv),i=r.children(".ui-jqgrid-error");i.html(e),r.show(),t.p.errorDisplayTimeout&&setTimeout(function(){i.empty(),r.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet],a=function(e,t){var r,i,a,l=t.split("."),o=l.length,n=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common&&n.push(r.common),a=0;a<o&&(i=l[a]);a++){if(void 0===(r=r[i])){if("common"===i)break;return""}if("string"==typeof r){n.push(r);break}null!=r&&r.common&&n.push(r.common)}return jgrid.mergeCssClasses.apply(this,n)};if(null==i)return"";var l=a(r.iconSet,e);return""===l&&null!=i.baseIconSet&&(l=a(i.baseIconSet,e)),l||""},isInCommonIconClass:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet];if(null==i)return!1;var a=i.common;if(void 0===a){if(null==i.baseIconSet)return!1;if(null==(i=jgrid.icons[i.baseIconSet]))return!1;a=i.common}return"string"==typeof a&&$.inArray(e,a.split(" "))>=0},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var r,i=[],a="",l=t.p.indexByColumnData[e];if(null!=l){for(a in l)if(l.hasOwnProperty(a)){for(r in l[a])if(l[a].hasOwnProperty(r)){a=String(l[a][r]);break}i.push(a)}t.p.ignoreCase?void 0===String.prototype.localeCompare?i.sort(function(e,t){var r=e.toLowerCase(),i=t.toLowerCase();return r===i?0:r>i?1:-1}):i.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):i.sort()}return i},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,r,i=this.jqGrid("getUniqueValueFromColumnIndex",e),a=$("<datalist></datalist>");if(!(null!=i&&i.length>0))return $();for(t=0,r=i.length;t<r;t++)a.append($("<option></option>").attr("value",i[t]));return a},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){null==t&&(t=!1),this.grid&&"object"==typeof e&&(!0===t?$.extend(this.p,e):$.extend(!0,this.p,e))})},abortAjaxRequest:function(){return this.each(function(){null!=this.p.jqXhr&&this.p.jqXhr.abort(),this.grid.endReq.call(this)})},getGridRowById:function(e){if(null==e)return null;var t,r=e.toString();return this.each(function(){var i,a,l=this.rows;if(null!=this.p.rowIndexes&&(a=l[this.p.rowIndexes[r]])&&a.id===r&&(t=a),!t)try{for(i=l.length;i--;)if(a=l[i],r===a.id){t=a;break}}catch(r){t=(t=$(this.grid.bDiv).find("#"+jqID(e))).length>0?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,r,i=this.rows,a=i.length;if(a&&a>0)for(t=0;t<a;t++)r=i[t],$(r).hasClass("jqgrow")&&e.push(r.id)}),e},setSelection:function(e,t,r){return this.each(function(){var i,a,l,o,n,s,d,c,u=$(this),h=this.p,g=base.getGuiStyles,p=base.getGridRowById,f=g.call(u,"states.select"),m=g.call(u,"states.disabled"),v=this.grid.fbRows,b=function(e,t){var r=t?"addClass":"removeClass",i=h.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},l=function(e){$(e)[r](f).attr(a),void 0!==i&&$(e.cells[i]).children("input.cbox").prop("checked",t)};l(e),v&&l(v[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=r&&(d=$(r.target).closest("tr.jqgrow")).length>0&&(a=d[0],v&&(a=this.rows[a.rowIndex])),null==a&&(a=p.call(u,e)),!a||!a.className||a.className.indexOf(m)>-1||(!0===h.scrollrows&&null!=(l=p.call(u,e))&&(l=l.rowIndex)>=0&&function(e,t){var r=t.clientHeight,i=t.scrollTop,a=$(e).position().top,l=e.clientHeight;a+l>=r+i?t.scrollTop=a-(r+i)+l+i:a<r+i&&a<i&&(t.scrollTop=a)}(this.rows[l],this.grid.bDiv),h.multiselect?(this.setHeadCheckBox(!1),h.selrow=a.id,c=jgrid.detectRowEditing.call(this,a.id),-1===(o=$.inArray(h.selrow,h.selarrrow))?(i=!0,h.selarrrow.push(h.selrow)):null===c||"inlineEditing"!==c.mode&&$(r.target).hasClass("cbox")?(i=!1,h.selarrrow.splice(o,1),n=h.selarrrow[0],h.selrow=void 0===n?null:n):i=!0,"ui-subgrid"!==a.className&&b(a,i),t&&feedback.call(this,"onSelectRow",a.id,i,r||{})):"ui-subgrid"!==a.className&&(h.selrow!==a.id?(null!==h.selrow&&(s=p.call(u,h.selrow))&&b(s,!1),b(a,!0),i=!0):i=!1,h.selrow=a.id,t&&feedback.call(this,"onSelectRow",a.id,i,r||{}))))})},resetSelection:function(e){return this.each(function(){var t,r=$(this),i=this.p,a=base.getGuiStyles,l=base.getGridRowById,o=a.call(r,"states.select"),n="edit-cell "+o,s="selected-row "+a.call(r,"states.hover"),d=i.iColByName.cb,c=void 0!==d,u=this.grid.fbRows,h=function(e){var t,r={"aria-selected":"false",tabindex:"-1"};$(e).removeClass(o).attr(r),c&&$(e.cells[d]).children("input.cbox").prop("checked",!1),u&&(t=u[e.rowIndex],$(t).removeClass(o).attr(r),c&&$(t.cells[d]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=l.call(r,e),h(t),c){this.setHeadCheckBox(!1);var g=$.inArray(e,i.selarrrow);-1!==g&&i.selarrrow.splice(g,1)}}else i.multiselect?($(this.rows).each(function(){var e=$.inArray(this.id,i.selarrrow);-1!==e&&(h(this),i.selarrrow.splice(e,1))}),this.setHeadCheckBox(!1),i.multiPageSelection||clearArray(i.selarrrow),i.selrow=null):i.selrow&&(t=l.call(r,i.selrow),h(t),i.selrow=null);!0===i.cellEdit&&parseInt(i.iCol,10)>=0&&parseInt(i.iRow,10)>=0&&(null!=(t=this.rows[i.iRow])&&($(t.cells[i.iCol]).removeClass(n),$(t).removeClass(s)),u&&null!=(t=u[i.iRow])&&($(t.cells[i.iCol]).removeClass(n),$(t).removeClass(s))),clearArray(i.savedRow),i.editingInfo={}})},isCellEditing:function(e,t,r){var i=this[0],a=jgrid.detectRowEditing.call(i,e);if(null!=a&&("inlineEditing"===a.mode||"cellEditing"===a.mode&&a.savedRow.ic===t)){t=isNaN(t)?i.p.iColByName[t]:parseInt(t,10);var l=null!=r&&r.id===e?r:base.getGridRowById.call($(i),e),o=i.p.colModel[t],n=o.editable;if($.isFunction(n)&&(n=n.call(i,{rowid:e,id:stripPref(i.p.idPrefix,e),iCol:t,iRow:l.rowIndex,cmName:o.name,cm:o,mode:a.mode,td:l.cells[t],tr:l,dataElement:jgrid.getDataFieldOfCell.call(i,l,t)[0]})),!0===n)return!0}return!1},getRowData:function(e,t){var r,i={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var a,l,o,n,s,d,c,u=this.p,h=!1,g=1,p=this.rows;if(void 0===e)h=!0,r=[],g=p.length;else if(!(a=base.getGridRowById.call($(this),e)))return i;for(l=0;l<g;l++)if(h&&(a=p[l]),$(a).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(this,e),n=$(a).find("td[role=gridcell]"),o=0;o<n.length;o++)if(s=u.colModel[o],d=s.name,$.inArray(d,u.reservedColumnNames)<0&&"actions"!==s.formatter&&(!t.skipHidden||!s.hidden))if(c=n[o],base.isCellEditing.call($(this),e,o,a))i[d]=jgrid.getEditedValue.call(this,jgrid.getDataFieldOfCell.call(this,a,o),s,{},s.editable);else if(!0===u.treeGrid&&d===u.ExpandColumn)i[d]=htmlDecode($("span",c).first().html());else try{i[d]=$.unformat.call(this,c,{rowId:e,colModel:s},o)}catch(e){i[d]=htmlDecode($(c).html())}!t.includeId||!1!==u.keyName&&null!=i[u.keyName]||(i[u.prmNames.id]=stripPref(u.idPrefix,a.id)),h&&(r.push(i),i={})}}),r||i},delRowData:function(e){var t=!1;return this.each(function(){var r,i,a,l=this.p,o=$.jgrid.detectRowEditing.call(this,e);if(!(r=base.getGridRowById.call($(this),e)))return!1;if(l.subGrid&&(a=$(r).next()).hasClass("ui-subgrid")&&a.remove(),null!=o)try{"inlineEditing"===o.mode&&null!=base.restoreRow?base.restoreRow.call($(this),e):"cellEditing"===o.mode&&null!=base.restoreCell&&base.restoreCell.call($(this),o.savedRow.id,o.savedRow.ic)}catch(e){}if(r.rowIndex===l.iRow&&(l.iRow=-1,l.iCol=-1),$(r).remove(),l.records--,l.reccount--,this.updatepager(!0,!1),t=!0,l.multiselect&&-1!==(i=$.inArray(e,l.selarrrow))&&l.selarrrow.splice(i,1),l.multiselect&&l.selarrrow.length>0?l.selrow=l.selarrrow[l.selarrrow.length-1]:l.selrow===e&&(l.selrow=null),"local"===l.datatype){var n=stripPref(l.idPrefix,e),s=l._index[n];void 0!==s&&(this.removeItemDataFromColumnIndex(n),l.data.splice(s,1),this.refreshIndex())}if(this.rebuildRowIndexes(),!0===l.altRows&&t&&!$(this).jqGrid("isBootstrapGuiStyle")){var d=l.altclass,c=this.grid.fbRows;$(this.rows).each(function(e){var t=$(this);c&&(t=t.add(c[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](d)})}feedback.call(this,"afterDelRow",e)}),t},setRowData:function(e,t,r){var i=!0;return this.each(function(){var a,l=this,o=l.p,n=typeof r,s={};if(!l.grid)return!1;if(!(a=base.getGridRowById.call($(l),e)))return!1;if(t)try{var d,c=stripPref(o.idPrefix,e),u=o._index[c],h={},g=null!=u?o.data[u]:void 0;if($(o.colModel).each(function(e){var r=this.name,i=getAccessor(t,r);void 0!==i&&("local"===o.datatype&&null!=g&&(i=convertOnSaveLocally.call(l,i,this,g[r],c,g,e),$.isFunction(this.saveLocally)?this.saveLocally.call(l,{newValue:i,newItem:s,oldItem:g,id:c,cm:this,cmName:r,iCol:e}):s[r]=i),h[r]=i)}),$(o.colModel).each(function(r){var i,n=this.name,d=getAccessor(t,n),c=$(a.cells[r]);if(void 0!==d){"local"===o.datatype&&null!=g&&(d=s[n]),i=this.title?{title:d}:{},d=l.formatter(e,d,r,t,"edit",h),"select"===this.formatter&&(i=this.title?{title:stripHtml(d)}:{});var u=c;!0===o.treeGrid&&n===o.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(d),c.attr(i),o.frozenColumns&&(u=$(l.grid.fbRows[a.rowIndex].cells[r]),!0===o.treeGrid&&n===o.ExpandColumn&&(u=u.children("span.cell-wrapperleaf,span.cell-wrapper").first()),u.html(d).attr(i))}}),"local"===o.datatype){if(o.treeGrid)for(d in o.treeReader)o.treeReader.hasOwnProperty(d)&&delete s[o.treeReader[d]];void 0!==g&&(o.data[u]=$.extend(!0,g,s),l.removeItemDataFromColumnIndex(c),l.addItemDataToColumnIndex(o.data[u],c))}feedback.call(l,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:a.rowIndex,tr:a,localData:s,cssProp:r})}catch(e){i=!1}i&&("string"===n?$(a).addClass(r):null!==r&&"object"===n&&$(a).css(r))}),i},changeRowid:function(e,t){return this.each(function(){var r,i,a,l,o,n,s,d=$(this),c=this.p;if(this.grid&&c&&e!==t&&(l=d.jqGrid("getGridRowById",e))&&null==d.jqGrid("getGridRowById",t)){var u=jgrid.stripPref(c.idPrefix,e),h=jgrid.stripPref(c.idPrefix,t),g=!1===c.keyName?c.prmNames.id:c.keyName,p=function(){var e=this.id,t=e.length-u.length;t>0&&e.substr(t)===u&&$(this).attr("id",e.substr(0,t)+h)};for(c.iColByName[g]>=0&&d.jqGrid("setCell",e,g,h),"local"===c.datatype&&void 0!==c._index[u]&&(c._index[h]=c._index[u],r=c.data[c._index[u]],delete c._index[u],r.hasOwnProperty(g)&&(r[g]=h)),c.rowIndexes[t]=l.rowIndex,delete c.rowIndexes[e],(o=null==this.grid.fbRows?$(l):$(l).add(this.grid.fbRows[l.rowIndex])).attr("id",t),c.selrow===e&&(c.selrow=t),$.isArray(c.selarrrow)&&(i=$.inArray(e,c.selarrrow))>=0&&(c.selarrrow[i]=t),c.multiselect&&(a="jqg_"+c.id+"_"+t,o.find("input.cbox").attr("id",a).attr("name",a)),i=0;i<c.colModel.length;i++)"actions"===(n=c.colModel[i]).formatter?o.find(".ui-jqgrid-actions .ui-pg-div").each(p):("showlink"===n.formatter||null!=n.unformat&&null!=n.formatter)&&(s=d.jqGrid("getCell",t,i),d.jqGrid("setCell",t,i,s,!1,!1,!0));feedback.call(this,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:l.rowIndex,tr:l})}})},addRowData:function(e,t,r,i){$.inArray(r,["first","last","before","after","afterSelected","beforeSelected"])<0&&(r="last");var a,l,o,n,s,d,c,u,h,g,p,f=!1;return t&&($.isArray(t)?(d=!0,c=e):(t=[t],d=!1),this.each(function(){var m,v,b=this.p,w=t.length,y=$(this),C=this.rows,x=0,j=base.getGridRowById,D=b.colModel,_=b.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==b.keyName&&(c=b.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=b.altclass;x<w;){if(h=t[x],l=[],d)try{void 0===(e=h[c])&&(e=randId())}catch(t){e=randId()}for(p=jgrid.stripPref(b.idPrefix,e),m={},n=0;n<D.length;n++)g=D[n],"rn"!==(a=g.name)&&"cb"!==a&&"subgrid"!==a&&(s=convertOnSaveLocally.call(this,h[a],g,void 0,p,{},n),$.isFunction(g.saveLocally)?g.saveLocally.call(this,{newValue:s,newItem:m,oldItem:{},id:p,rowid:e,cm:g,cmName:a,iCol:n}):void 0!==s&&(m[a]=s));for(n=0;n<_.length;n++)"object"==typeof(a=_[n])&&a.hasOwnProperty("name")&&(a=a.name),void 0!==(s=getAccessor(h,a))&&(m[a]=s);if("local"===b.datatype&&(m[b.localReader.id]=p,b._index[p]=b.data.length,b.data.push(m),this.addItemDataToColumnIndex(m,p)),v=b.grouping,b.grouping=!1,l=jgrid.parseDataToHtml.call(this,1,[e],[h]),b.grouping=v,l=l.join(""),0===C.length)$(this.tBodies[0]).append(l);else switch("afterSelected"!==r&&"beforeSelected"!==r||(void 0===i&&null!==b.selrow?(i=b.selrow,r="afterSelected"===r?"after":"before"):r="afterSelected"===r?"last":"first"),r){case"last":$(C[C.length-1]).after(l),o=C.length-1;break;case"first":$(C[0]).after(l),o=1;break;case"after":(o=j.call(y,i))&&($(C[o.rowIndex+1]).hasClass("ui-subgrid")?($(C[o.rowIndex+1]).after(l),o=o.rowIndex+2):($(o).after(l),o=o.rowIndex+1));break;case"before":(o=j.call(y,i))&&($(o).before(l),o=o.rowIndex-1)}!0===b.subGrid&&base.addSubGrid.call(y,b.iColByName.subgrid,o),b.records++,b.reccount++,0===b.lastpage&&(b.lastpage=1),feedback.call(this,"afterAddRow",{rowid:e,inputData:t,position:r,srcRowid:i,iRow:o,tr:C[o],localData:m,iData:b.data.length-1}),x++}!0!==b.altRows||d||y.jqGrid("isBootstrapGuiStyle")||("last"===r?(C.length-1)%2==0&&$(C[C.length-1]).addClass(u):$(C).each(function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)})),this.rebuildRowIndexes(),this.updatepager(!0,!0),f=!0})),f},footerData:function(e,t,r){var i=!1,a={};return null==e&&(e="get"),"boolean"!=typeof r&&(r=!0),e=e.toLowerCase(),this.each(function(){var l,o,n,s,d=this.p;if(!this.grid||!d.footerrow)return!1;if("set"===e&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))return!1;i=!0;var c=$(this.grid.sDiv).children(".ui-jqgrid-hbox"+("rtl"===d.direction?"-rtl":"")).children(".ui-jqgrid-ftable")[0];if(null==c||null==c.rows)return!1;var u=c.rows[0].cells,h=d.colModel,g=null==this.grid.fsDiv?{}:this.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(s=0;s<h.length;s++)n=h[s].name,$.inArray(n,d.reservedColumnNames)<0&&(!1!==t?(l=$(u[s]).text(),$.trim(l)&&(a[n]=l)):a[n]=$(u[s]).html());else if("set"===e)for(n in t)s=d.iColByName[n],t.hasOwnProperty(n)&&void 0!==s&&(l=r?this.formatter("",t[n],s,t,"edit"):t[n],(o=$(u[s]).add(g[s])).html(l),h[s].title&&o.attr({title:stripHtml(l)}))}),"get"===e?a:i},resetColumnResizerHeight:function(){return this.each(function(){if($.jgrid.msie){var e,t,r,i,a=this.grid.headers;for(r=0;r<a.length;r++)(i=(e=$(a[r].el)).height())&&(t=e.children(".ui-jqgrid-resize")).length>0&&Math.abs(i-t.height())>.5&&e.children(".ui-jqgrid-resize").height(i)}})},rotateColumnHeaders:function(e,t){return this.each(function(){var r,i,a,l,o,n,s,d,c,u,h,g,p,f,m,v,b=$(this),w=this.p,y=w.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),r=0;r<e.length;r++)n=e[r],(i=isNaN(n)?w.iColByName[n]:parseInt(n,10))>=0&&(a=this.grid.headers[i].el,l=i<y?$(a).add($(this.grid.fhDiv.find("#"+jqID(a.id)))):$(a),s=l.children("div"),d=s.children("span.s-ico"),u=s.children("span.ui-jqgrid-sort-order"),(c=s.children("span."+w.autoResizing.wrapperClassName)).length<1&&(d.detach(),u.detach(),s.wrapInner("<span class='"+w.autoResizing.wrapperClassName+"'></span>"),c=s.children("span."+w.autoResizing.wrapperClassName),s.each(function(e){e<d.length&&$(this).append(d[e]),e<u.length&&$(this).append(u[e])})),h=d.outerWidth(!0),g=c.outerWidth(),m=parseFloat(l.css("padding-top")||0),v=parseFloat(l.css("padding-bottom")||0),p=parseFloat(l.css("padding-left")||0),f=parseFloat(l.css("padding-right")||0),w.showSortOrder&&(h+=.5*h),o=void 0===t||0===t?g+h+p+f:t,l.height(o),l.css({paddingTop:f+"px",paddingBottom:p+"px",paddingLeft:m+"px",paddingRight:v+"px"}),s.css("min-width",o-p-f+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),w.colModel[i].rotated=!0);b.jqGrid("resetColumnResizerHeight"),w.frozenColumns&&setTimeout(function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})},0)})},showHideCol:function(e,t,r){return this.each(function(){var i,a=this,l=$(a),o=a.grid,n=!1,s=a.p,d=jgrid.cell_width?0:s.cellLayout;if(o){"string"==typeof e&&(e=[e]),t="none"!==t&&!1!==t?"":"none",r=r||{};var c=""===t,u=s.groupHeader,h=u&&("object"==typeof u||$.isFunction(u));if(h&&!r.skipSetGroupHeaders&&base.destroyGroupHeader.call(l,!1),$(s.colModel).each(function(l){var u=function(e){var r,i,a,o,n,d,u,h,g,p,f,m,v,b,w;for(r=0,i=e.length;r<i;r++)o=(a=e[r]).cells[l],(!$(a).hasClass("jqgroup")||null!=o&&1===o.colSpan)&&(n=$(o),0===r&&$(a).hasClass("jqgfirstrow")?(n.css("height","1px"),n.css("display",t),n.css("height","0")):n.css("display",t),c&&null!=o&&"TH"===o.tagName.toUpperCase()&&n.hasClass("ui-th-column")&&(d=n.children("div")).hasClass("ui-jqgrid-rotate")&&(u=d.children("span.s-ico"),(h=d.children("span."+s.autoResizing.wrapperClassName)).outerHeight(),g=h.outerWidth(),u.outerHeight(),p=u.outerWidth(!0),h.length>0&&(m=parseFloat(n.css("padding-top")||0),v=parseFloat(n.css("padding-bottom")||0),b=parseFloat(n.css("padding-left")||0),w=parseFloat(n.css("padding-right")||0),s.showSortOrder&&(p+=.5*p),f=g+p+b+w,n.height(f),n.css({paddingTop:w+"px",paddingBottom:b+"px",paddingLeft:m+"px",paddingRight:v+"px"}),d.css("min-width",f-b-w+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===s.frozenColumns&&!0===this.frozen&&!r.notSkipFrozen)return!0;u($(o.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===s.frozenColumns&&null!=o.fhDiv&&u($(o.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(a.rows),!0===s.frozenColumns&&null!=o.fbRows&&u(a.rows),s.footerrow&&(u($(o.sDiv).find("tr.footrow")),!0===s.frozenColumns&&null!=o.fsDiv&&u($(o.fsDiv).find("tr.footrow"))),i=parseInt(this.width,10),"none"===t?s.tblwidth-=i+d:s.tblwidth+=i+d,this.hidden=!c,n=!0,r.skipFeedback?(r.toReport=r.toReport||{},r.toReport[this.name]=c):feedback.call(a,"onShowHideCol",c,this.name,l,r)}}),!0===n){var g=s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg?s.width:s.tblwidth+parseInt(s.scrollOffset,10);r.skipSetGridWidth?r.newGridWidth=g:base.setGridWidth.call(l,g)}if(h&&!r.skipSetGroupHeaders)if(null!=s.pivotOptions&&null!=s.pivotOptions.colHeaders&&s.pivotOptions.colHeaders.length>1){var p,f=s.pivotOptions.colHeaders;for(p=0;p<f.length;p++)f[p]&&f[p].groupHeaders.length&&base.setGroupHeaders.call(l,f[p])}else base.setGroupHeaders.call(l,s.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,r){var i,a,l,o,n=this[0],s=n.p,d=n.grid,c=$.makeArray,u=!0===s.frozenColumns,h=this.jqGrid("getNumberOfFrozenColumns");function g(e){var t=e.length?c(e):$.extend({},e);$.each(o,function(r){e[r]=t[this]})}function p(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=c(e.cells);$.each(o,function(r){var i=t[this],a=e.cells[r];null!=i&&null!=a&&i.cellIndex!==r&&i.parentNode.insertBefore(i,a)})})}if(null!=d&&null!=s){for(o=function(){var t,r=[],i=[],a=e.length;for(t=0;t<a;t++)u&&e[t]<h?r.push(e[t]):i.push(e[t]);return r.concat(i)}(),g(s.colModel),g(s.colNames),g(d.headers),l=$(d.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),u&&null!=d.fhDiv&&(l=l.add(d.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),p(l,r&&":not(.ui-jqgrid-labels)"),t&&(l=$(n.tBodies[0]),u&&null!=d.fbDiv&&(l=l.add(d.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),p(l,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),s.footerrow&&(l=$(d.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),u&&null!=d.fsDiv&&(l=l.add(d.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),p(l)),s.remapColumns&&(s.remapColumns.length?g(s.remapColumns):s.remapColumns=c(o)),s.lastsort=$.inArray(s.lastsort,o),s.iColByName={},i=0,a=s.colModel.length;i<a;i++)s.iColByName[s.colModel[i].name]=i;feedback.call(n,"onRemapColumns",o,t,r)}},remapColumnsByName:function(e,t,r){var i,a,l=this[0].p,o=[],n=e.slice(),s=$.inArray;for(l.subGrid&&s("subgrid",n)<0&&n.unshift("subgrid"),l.multiselect&&s("cb",n)<0&&n.unshift("cb"),l.rownumbers&&s("rn",n)<0&&n.unshift("rn"),i=0,a=n.length;i<a;i++)o.push(l.iColByName[n[i]]);return base.remapColumns.call(this,o,t,r),this},setGridWidth:function(e,t){return this.each(function(){var r,i,a,l,o=this.p,n=this.grid,s=0,d=0,c=!1,u=0,h=jgrid.isCellClassHidden,g=e;if(n&&null!=o){this.fixScrollOffsetAndhBoxPadding();var p,f,m,v,b=o.colModel,w=o.scrollOffset,y=jgrid.cell_width?0:o.cellLayout,C=n.headers,x=n.footers,j=n.bDiv,D=n.hDiv,_=n.sDiv,R=n.cols,S=$(D).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,N=function(e){n.width=o.width=e,$(o.gBox).css("width",e+"px"),$(o.gView).css("width",e+"px"),$(j).css("width",e+"px"),$(D).css("width",e+"px"),o.pager&&$(o.pager).css("width",e+"px"),o.toppager&&$(o.toppager).css("width",e+"px"),!0===o.toolbar[0]&&($(n.uDiv).css("width",e+"px"),"both"===o.toolbar[1]&&$(n.ubDiv).css("width",e+"px")),o.footerrow&&$(_).css("width",e+"px")};if("boolean"!=typeof t&&(t=o.shrinkToFit),!isNaN(g)){if(N(g=parseInt(g,10)),!1===t&&!0===o.forceFit&&(o.forceFit=!1),!0===t){if($.each(b,function(){!1!==this.hidden||h(this.classes)||(r=this.widthOrg,s+=r+y,this.fixed?u+=this.width+y:d++)}),0===d)return;if(o.tblwidth=parseInt(s,10),a=g-y*d-u,isNaN(o.height)||(j.clientHeight<j.scrollHeight||1===this.rows.length)&&(c=!0,a-=w),(v=a/(o.tblwidth-y*d-u))<0)return;if(s=0,m=R.length>0,$.each(b,function(e){!1!==this.hidden||h(this.classes)||this.fixed||(r=Math.round(this.widthOrg*v),this.width=r,s+=r,C[e].width=r,S[e].style.width=r+"px",o.footerrow&&(x[e].style.width=r+"px"),m&&(R[e].style.width=r+"px"),i=e)}),!i)return;l=0,c?g-u-(s+y*d)!==w&&(l=g-u-(s+y*d)-w):1!==Math.abs(g-u-(s+y*d))&&(l=g-u-(s+y*d)),(p=b[i]).width+=l,o.tblwidth=parseInt(s+l+y*d+u,10),o.tblwidth>g&&(f=o.tblwidth-parseInt(g,10),o.tblwidth=g,p.width=p.width-f),r=p.width,C[i].width=r,S[i].style.width=r+"px",m&&(R[i].style.width=r+"px"),o.footerrow&&(x[i].style.width=r+"px"),o.tblwidth+(c?w:0)<o.width&&N(o.tblwidth+(c?w:0)),j.offsetWidth>j.clientWidth&&(o.autowidth||void 0!==o.widthOrg&&"auto"!==o.widthOrg&&"100%"!==o.widthOrg||N(j.offsetWidth))}o.tblwidth&&(o.tblwidth=parseInt(o.tblwidth,10),g=o.tblwidth,D.scrollLeft=j.scrollLeft,f=Math.abs(g-o.width),o.shrinkToFit&&!t&&f<3&&f>0&&(g<o.width&&N(g),j.offsetWidth>j.clientWidth&&(o.autowidth||void 0!==o.widthOrg&&"auto"!==o.widthOrg&&"100%"!==o.widthOrg||N(j.offsetWidth)))),this.fixScrollOffsetAndhBoxPadding();var I={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(this).triggerHandler("jqGridResetFrozenHeights",[{header:I,resizeFooter:!0,body:I}])}}})},setGridHeight:function(e){return this.each(function(){var t=this.grid,r=this.p;if(t){var i=$(t.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),!0===r.frozenColumns&&$(r.idSel+"_frozen").parent().height(i.height()-16),r.height=e,r.scroll&&t.populateVisible.call(this),this.fixScrollOffsetAndhBoxPadding(),$(this).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this.grid.cDiv;this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",t).html(e),$(t).show(),$(t).nextAll("div").removeClass(base.getGuiStyles.call(this,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,r,i){return this.each(function(){var a,l,o=this.p;if(this.grid){if(isNaN(e)){if(void 0===(a=o.iColByName[e]))return}else a=parseInt(e,10);a>=0&&(l=$(this.grid.headers[a].el),o.frozenColumns&&(l=l.add(this.grid.fhDiv.find("#"+jqID(l)))),t&&(l.each(function(){var e=$("[id^=jqgh_]",this),r=e.children("span.ui-jqgrid-cell-wrapper");if(r.length>0)r.html(t);else{var i=$(".s-ico",this);e.empty().html(t)[o.sortIconsBeforeText?"prepend":"append"](i)}}),o.colNames[a]=t),r&&("string"==typeof r?l.addClass(r):l.css(r)),"object"==typeof i&&l.attr(i))}})},setCell:function(e,t,r,i,a,l){return this.each(function(){var o,n,s,d,c,u,h,g,p,f,m=this.p,v=-1,b=m.colModel,w={};if(this.grid&&(v=isNaN(t)?m.iColByName[t]:parseInt(t,10))>=0&&(c=base.getGridRowById.call($(this),e))){if(u=jgrid.getCell.call(this,c,v),""!==r||!0===l){if(s=b[v],"local"===m.datatype&&(p=stripPref(m.idPrefix,e),void 0!==(f=m._index[p])&&(d=m.data[f])),null==d){for(n=0;n<c.cells.length;n++)if(n!==v&&(h=jgrid.getDataFieldOfCell.call(this,c,n)).length>0){try{g=$.unformat.call(this,h,{rowId:e,colModel:b[n]},n)}catch(e){g=htmlDecode(h[0].innerHTML)}w[b[n].name]=g}}else w=d;w[s.name]=r,o=this.formatter(e,r,v,w,"edit");var y=u;!0===m.treeGrid&&s.name===m.ExpandColumn&&(y=y.children("span.cell-wrapperleaf,span.cell-wrapper").first()),y.html(o),s.title&&u.attr({title:r}),null!=d&&(o=convertOnSaveLocally.call(this,r,s,d[s.name],p,d,v),$.isFunction(s.saveLocally)?s.saveLocally.call(this,{newValue:o,newItem:d,oldItem:d,id:p,cm:s,cmName:s.name,iCol:v}):d[s.name]=o)}(i||a)&&(u=jgrid.getCell.call(this,c,v),i&&u["string"==typeof i?"addClass":"css"](i),"object"==typeof a&&u.attr(a))}})},getCell:function(e,t){var r=!1;return this.each(function(){var i,a,l,o,n=this.p;if(this.grid&&(i=isNaN(t)?n.iColByName[t]:parseInt(t,10))>=0&&(a=base.getGridRowById.call($(this),e))){l=jgrid.getDataFieldOfCell.call(this,a,i).first(),o=n.colModel[i];try{r=base.isCellEditing.call($(this),e,i,a)?jgrid.getEditedValue.call(this,l,o,{},o.editable):$.unformat.call(this,l,{rowId:a.id,colModel:o},i)}catch(e){r=htmlDecode(l.html())}}}),r},getCol:function(e,t,r){var i,a,l,o,n=[],s=0;return t="boolean"==typeof t&&t,void 0===r&&(r=!1),this.each(function(){var d,c,u=this.p;if(this.grid&&(d=isNaN(e)?u.iColByName[e]:parseInt(e,10))>=0){var h,g,p=this.rows,f=p.length,m=0,v=0,b=u.colModel[d];if(f&&f>0){for(;m<f;){if(h=p[m],$(h).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(this,h,d).first(),g=h.id;try{i=base.isCellEditing.call($(this),g,d,h)?jgrid.getEditedValue.call(this,c,b,{},b.editable):$.unformat.call(this,c,{rowId:g,colModel:b},d)}catch(e){i=htmlDecode(c.html())}r?(o=parseFloat(i),isNaN(o)||(s+=o,void 0===l&&(l=a=o),a=Math.min(a,o),l=Math.max(l,o),v++)):t?n.push({id:g,value:i}):n.push(i)}m++}if(r)switch(r.toLowerCase()){case"sum":n=s;break;case"avg":n=s/v;break;case"count":n=f-1;break;case"min":n=a;break;case"max":n=l}}}}),n},clearGridData:function(e){return this.each(function(){var t=this.p,r=this.rows,i=this.grid;i&&t&&r&&("boolean"!=typeof e&&(e=!1),$(this).off(".jqGridFormatter"),i.emptyRows.call(this,!1,!0),t.footerrow&&e&&$(".ui-jqgrid-ftable td",i.sDiv).html("&#160;"),t.selrow=null,clearArray(t.selarrrow),clearArray(t.savedRow),t.editingInfo={},clearArray(t.data),clearArray(t.lastSelectedData),t._index={},t.rowIndexes={},t.dataIndexById={},t.indexByColumnData={},t.records=0,t.page=1,t.lastpage=0,t.reccount=0,this.updatepager(!0,!1))})},getInd:function(e,t){var r=base.getGridRowById.call($(this),e);return!!r&&(!0===t?r:r.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,r=e.p,i=$(e);r.scrollrows=t.scrollingRows,i.on("keydown.jqGrid",function(a){var l=$(this).find("tr[tabindex=0]")[0],o=jgrid.detectRowEditing.call(e,$(a.target).closest("tr.jqgrow").attr("id")),n=function(e){do{if(null===(l=l[e]))return}while($(l).is(":hidden")||!$(l).hasClass("jqgrow"));base.setSelection.call(i,l.id,!0),a.preventDefault()},s=function(a,l){var o=t["on"+a+(l||"")];i.triggerHandler("jqGridKey"+a,[r.selrow]),$.isFunction(o)&&o.call(e,r.selrow)},d=function(e){if(r.treeGrid){var t=r.data[r._index[stripPref(r.idPrefix,l.id)]][r.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(l).find("div.treeclick").trigger("click")}s(e,"Key")};if(l&&null===o)switch(a.keyCode){case 38:n("previousSibling");break;case 40:n("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:s("Enter");break;case 32:s("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,r=!1;return this.each(function(){var i=this.p;void 0!==e&&null!=i&&null!=i._index&&null!=i.data&&(t=i._index[stripPref(i.idPrefix,e)])>=0&&(r=i.data[t])}),r},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,r=jqID(this.p.id),i=$("#load_"+r);switch(""!==e.htmlcontent&&i.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":i.toggle(t);break;case"block":$("#lui_"+r).toggle(t),i.toggle(t)}})},setColWidth:function(e,t,r,i){return this.each(function(){var a,l=$(this),o=this.grid,n=this.p;if("string"==typeof e){if(void 0===(e=n.iColByName[e]))return}else if("number"!=typeof e)return;null!=(a=o.headers[e])&&(a.newWidth=t,o.newWidth=n.tblwidth+t-a.width,o.resizeColumn(e,!n.frozenColumns,i),!1===r||i||(this.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(l,o.newWidth+n.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var r,i,a,l,o,n=(t=t[0]).rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.children("div"),h=parseFloat(c.css(d.rotated?"padding-top":"padding-left")||0),g=parseFloat(c.css(d.rotated?"padding-bottom":"padding-right")||0),p=u.children("span.s-ico"),f=u.children(".ui-jqgrid-sort-order"),m=u.children("."+s.autoResizing.wrapperClassName),v=d.rotated?m.outerHeight():m.outerWidth(),b=parseFloat(m.css(d.rotated?"height":"width")||0),w=0,y=0,C=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,x=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===m.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(C&&!p.is(":visible")&&"none"===p.css("display")||(y=d.rotated?p.outerHeight(!0):p.outerWidth(!0)+(f.length>0?f.outerWidth(!0):0),s.sortIconsBeforeText||(y-="rtl"===s.direction?parseFloat(p.css("padding-left")||0)+parseFloat(p.css("margin-left")||0):parseFloat(p.css("padding-right")||0)+parseFloat(p.css("margin-right")||0))),d.rotated?y=Math.max(y,v+h+g):y+=v+h+(b===v?h+g:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,n=t.rows;a<n.length;a++)i=(r=n[a]).cells[e],l=$(r.cells[e]),null!=i&&($(r).hasClass("jqgrow")&&"none"!==r.style.display&&"none"!==i.style.display||$(r).hasClass("jqgroup")&&1===i.colSpan)?(o=$(i.firstChild)).hasClass(x)?y=Math.max(y,o.outerWidth()+w):s.treeGrid&&s.ExpandColumn===d.name&&(o=l.children(".cell-wrapper,.cell-wrapperleaf"),y=Math.max(y,o.outerWidth()+w+l.children(".tree-wrap").outerWidth())):$(r).hasClass("jqgfirstrow")&&(w=(jgrid.cell_width?parseFloat(l.css("padding-left")||0)+parseFloat(l.css("padding-right")||0):0)+parseFloat(l.css("border-right")||0)+parseFloat(l.css("border-left")||0));return y=Math.max(y,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(y,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var r,i=$(this),a=this.p,l=a.colModel[e],o=$(this.grid.headers[e].el),n=base.getAutoResizableWidth.call(i,e),s=(l.autoResizing||{}).resetWidthOrg;null==l||n<0||n===l.width||(base.setColWidth.call(i,e,n,a.autoResizing.adjustGridWidth&&!a.autoResizing.fixWidthOnShrink&&!t,t),a.autoResizing.fixWidthOnShrink&&a.shrinkToFit&&!t&&(l.fixed=!0,r=l.widthOrg,l.widthOrg=l.width,base.setGridWidth.call(i,a.width,!0),l.widthOrg=r,l.fixed=!1),(s||void 0===s&&a.autoResizing.resetWidthOrg)&&(l.widthOrg=l.width),o.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,r=$(this),i=this.p,a=i.colModel,l=a.length,o=i.shrinkToFit,n=i.autoResizing.adjustGridWidth,s=i.autoResizing.fixWidthOnShrink,d=parseInt(i.widthOrg,10),c=this.grid,u=base.autoResizeColumn;for(i.shrinkToFit=!1,i.autoResizing.adjustGridWidth=!0,i.autoResizing.fixWidthOnShrink=!1,e=0;e<l;e++)(t=a[e]).autoResizable&&"actions"!==t.formatter&&u.call(r,e,!0);c.hDiv.scrollLeft=c.bDiv.scrollLeft,i.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft),this.fixScrollOffsetAndhBoxPadding(),isNaN(d)?n&&base.setGridWidth.call(r,c.newWidth+i.scrollOffset,!1):base.setGridWidth.call(r,d,!1),i.autoResizing.fixWidthOnShrink=s,i.autoResizing.adjustGridWidth=n,i.shrinkToFit=o})}})});
//# sourceMappingURL=grid.base.js.map