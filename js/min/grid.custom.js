var $jscomp={scope:{},findInternal:function(a,u,t){a instanceof String&&(a=String(a));for(var v=a.length,w=0;w<v;w++){var R=a[w];if(u.call(t,R,w,a))return{i:w,v:R}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,u,t){if(t.get||t.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[u]=t.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,u,t,v){if(u){t=$jscomp.global;a=a.split(".");for(v=0;v<a.length-1;v++){var w=a[v];w in t||(t[w]={});t=t[w]}a=a[a.length-1];v=t[a];u=u(v);u!=v&&null!=u&&$jscomp.defineProperty(t,a,{configurable:!0,writable:!0,value:u})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,t){return $jscomp.findInternal(this,a,t).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define(["jquery","./grid.base","./jquery.fmatter","./grid.common"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){var u=a.jgrid,t=u.jqID,v=a.fn.jqGrid,w=v.getGuiStyles,R=v.getGridRes;u.extend({getColProp:function(a){var b=this[0];return null!=b&&b.grid&&(a=b.p.iColByName[a],void 0!==a)?b.p.colModel[a]:{}},setColProp:function(e,b){return this.each(function(){var f=this.p,d;this.grid&&null!=f&&b&&(d=f.iColByName[e],void 0!==
d&&a.extend(!0,f.colModel[d],b))})},sortGrid:function(a,b,f){return this.each(function(){var d=this.grid,c=this.p,e=c.colModel,m=e.length,r,g,k=!1;if(d)for(a||(a=c.sortname),"boolean"!==typeof b&&(b=!1),g=0;g<m;g++)if(r=e[g],r.index===a||r.name===a){!0===c.frozenColumns&&!0===r.frozen&&(k=d.fhDiv.find("#"+c.id+"_"+a));k&&0!==k.length||(k=d.headers[g].el);d=r.sortable;("boolean"!==typeof d||d)&&this.sortData("jqgh_"+c.id+"_"+a,g,b,f,k);break}})},clearBeforeUnload:function(){return this.each(function(){var e=
this.p,b=this.grid,f,d=u.clearArray,c=Object.prototype.hasOwnProperty;a.isFunction(b.emptyRows)&&b.emptyRows.call(this,!0,!0);a(document).unbind("mouseup.jqGrid"+e.id);a(b.hDiv).unbind("mousemove");a(this).unbind();var h,m=b.headers.length;for(h=0;h<m;h++)b.headers[h].el=null;for(f in b)b.hasOwnProperty(f)&&(b.propOrMethod=null);b="formatCol sortData updatepager refreshIndex setHeadCheckBox constructTr clearToolbar fixScrollOffsetAndhBoxPadding rebuildRowIndexes modalAlert toggleToolbar triggerToolbar formatter addXmlData addJSONData ftoolbar _inlinenav nav grid p".split(" ");
m=b.length;for(h=0;h<m;h++)c.call(this,b[h])&&(this[b[h]]=null);this._index={};d(e.data);d(e.lastSelectedData);d(e.selarrrow);d(e.savedRow)})},GridDestroy:function(){return this.each(function(){var e=this.p;if(this.grid&&null!=e){e.pager&&a(e.pager).remove();try{a("#alertmod_"+t(e.id)).remove(),a(this).jqGrid("clearBeforeUnload"),a(e.gBox).remove()}catch(b){}}})},GridUnload:function(){return this.each(function(){var e=a(this),b=this.p,f=a.fn.jqGrid;this.grid&&(e.removeClass(f.getGuiStyles.call(e,
"grid","ui-jqgrid-btable")),b.pager&&a(b.pager).empty().removeClass(f.getGuiStyles.call(e,"pagerBottom","ui-jqgrid-pager")).removeAttr("style").removeAttr("dir"),e.jqGrid("clearBeforeUnload"),e.removeAttr("style").removeAttr("tabindex").removeAttr("role").removeAttr("aria-labelledby").removeAttr("style"),e.empty(),e.insertBefore(b.gBox).show(),a(b.pager).insertBefore(b.gBox).show(),a(b.gBox).remove())})},setGridState:function(e){return this.each(function(){var b=this.p,f=this.grid,d=f.cDiv,c=a(f.uDiv),
h=a(f.ubDiv);if(f&&null!=b){var f=v.getIconRes.call(this,"gridMinimize.visible"),m=v.getIconRes.call(this,"gridMinimize.hidden");"hidden"===e?(a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv",b.gView).slideUp("fast"),b.pager&&a(b.pager).slideUp("fast"),b.toppager&&a(b.toppager).slideUp("fast"),!0===b.toolbar[0]&&("both"===b.toolbar[1]&&h.slideUp("fast"),c.slideUp("fast")),b.footerrow&&a(".ui-jqgrid-sdiv",b.gBox).slideUp("fast"),a(".ui-jqgrid-titlebar-close span",d).removeClass(f).addClass(m),b.gridstate="hidden"):
"visible"===e&&(a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv",b.gView).slideDown("fast"),b.pager&&a(b.pager).slideDown("fast"),b.toppager&&a(b.toppager).slideDown("fast"),!0===b.toolbar[0]&&("both"===b.toolbar[1]&&h.slideDown("fast"),c.slideDown("fast")),b.footerrow&&a(".ui-jqgrid-sdiv",b.gBox).slideDown("fast"),a(".ui-jqgrid-titlebar-close span",d).removeClass(m).addClass(f),b.gridstate="visible")}})},filterToolbar:function(e){return this.each(function(){var b=this,f=b.grid,d=a(b),c=b.p,h=u.bindEv,m=u.info_dialog,
r=u.htmlEncode;if(!this.ftoolbar){var g=a.extend(!0,{autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",idMode:"new",searchOperators:!1,resetIcon:"&times;",applyLabelClasses:!0,loadFilterDefaults:!0,operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},u.search,c.searching||{},e||{}),k=c.colModel,
P=function(a){return R.call(d,a)},v=P("errors.errcap"),L=P("edit.bClose"),M=P("edit.msg"),z=w.call(b,"states.hover"),E=w.call(b,"states.select"),F=w.call(b,"filterToolbar.dataField"),H={},y=function(a){var b="gs_";switch(g.idMode){case "compatibility":b+=c.idPrefix;break;case "new":b+=c.id+"_"}return b+a},G=function(b){var l;l=c.postData.filters;var d={},f,e,q,p;if(b)for(b=0;b<k.length;b++)q=k[b],!1!==q.search&&(p=q.searchoptions||{},d[q.name]={op:p.sopt?p.sopt[0]:"select"===q.stype?"eq":g.defaultSearch,
data:void 0!==p.defaultValue?p.defaultValue:""});if(!l||!c.search)return d;if("string"===typeof l)try{l=a.parseJSON(l)}catch(A){l={}}else l=l||{};f=l.rules||{};if(null==l||null!=l.groupOp&&null!=g.groupOp&&l.groupOp.toUpperCase()!==g.groupOp.toUpperCase()||null==f||0===f.length||null!=l.groups&&0<l.groups.length)return d;for(b=0;b<f.length;b++)for(e=f[b],l=0;l<k.length;l++)if(q=k[l],(q.index||q.name)===e.field&&!1!==q.search){p=q.searchoptions||{};if(p.sopt){if(0>a.inArray(e.op,p.sopt))continue}else if("select"===
q.stype){if("eq"!==e.op)continue}else if(e.op!==g.defaultSearch)continue;d[q.name]={op:e.op,data:e.data}}return d},B=function(){var q={},l=0,e={};a.each(k,function(){var d=this,p=d.index||d.name,n,h;n=d.searchoptions||{};var J=a("#"+t(y(d.name)),!0===d.frozen&&!0===c.frozenColumns?f.fhDiv:f.hDiv),x=function(a,b){var c=d.formatoptions||{};return void 0!==c[a]?c[a]:P("formatter."+(b||d.formatter)+"."+a)},m=function(a){var b=x("thousandsSeparator").replace(/([\.\*\_\'\(\)\{\}\+\?\\])/g,"\\$1");return a.replace(new RegExp(b,
"g"),"")};h=g.searchOperators?J.parent().prev().children("a").data("soper")||g.defaultSearch:n.sopt?n.sopt[0]:"select"===d.stype?"eq":g.defaultSearch;if("custom"===d.stype&&a.isFunction(n.custom_value)&&0<J.length&&"SPAN"===J[0].nodeName.toUpperCase())n=n.custom_value.call(b,J.children(".customelement").first(),"get");else if("select"===d.stype)n=J.val();else switch(n=a.trim(J.val()),d.formatter){case "integer":n=m(n).replace(x("decimalSeparator","number"),".");""!==n&&(n=String(parseInt(n,10)));
break;case "number":n=m(n).replace(x("decimalSeparator"),".");""!==n&&"0"===String(n).charAt(0)&&(n=String(parseFloat(n)));break;case "currency":var J=x("prefix"),I=x("suffix");J&&J.length&&(n=n.substr(J.length));I&&I.length&&(n=n.substr(0,n.length-I.length));n=m(n).replace(x("decimalSeparator"),".");""!==n&&(n=String(parseFloat(n)))}if(n||"nu"===h||"nn"===h)q[p]=n,e[p]=h,l++;else if(q.hasOwnProperty(p)&&delete q[p],!g.stringResult&&!g.searchOperators&&"local"!==c.datatype)try{null!=c.postData&&c.postData.hasOwnProperty(p)&&
delete c.postData[p]}catch(Q){}});var p=0<l?!0:!1;if(g.stringResult||g.searchOperators||"local"===c.datatype){var h='{"groupOp":"'+g.groupOp+'","rules":[',x=0;a.each(q,function(a,b){0<x&&(h+=",");h+='{"field":"'+a+'",';h+='"op":"'+e[a]+'",';h+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';x++});h+="]}";a.extend(c.postData,{filters:h});a.each(["searchField","searchString","searchOper"],function(a,b){c.postData.hasOwnProperty(b)&&delete c.postData[b]})}else a.extend(c.postData,q);
var m;c.searchurl&&(m=c.url,d.jqGrid("setGridParam",{url:c.searchurl}));var A="stop"===d.triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!A&&a.isFunction(g.beforeSearch)&&(A=g.beforeSearch.call(b));A||d.jqGrid("setGridParam",{search:p}).trigger("reloadGrid",[a.extend({page:1},g.reloadGridSearchOptions||{})]);m&&d.jqGrid("setGridParam",{url:m});d.triggerHandler("jqGridToolbarAfterSearch");a.isFunction(g.afterSearch)&&g.afterSearch.call(b)},O=P("search.odata")||[],C=c.customSortOperations,p=function(p,
l,e){a("#sopt_menu").remove();l=parseInt(l,10);e=parseInt(e,10)+18;var f,q=0,h=[],x=a(p).data("soper"),q=a(p).data("colname"),m=a(".ui-jqgrid-view").css("font-size")||"11px";l="<ul id='sopt_menu' class='"+w.call(b,"searchToolbar.menu","ui-search-menu")+"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:"+m+";left:"+l+"px;top:"+e+"px;'>";q=c.iColByName[q];if(void 0!==q){q=k[q];e=a.extend({},q.searchoptions);var I,D;e.sopt||(e.sopt=[],e.sopt[0]="select"===q.stype?"eq":g.defaultSearch);
a.each(O,function(){h.push(this.oper)});null!=C&&a.each(C,function(a){h.push(a)});for(q=0;q<e.sopt.length;q++)m=e.sopt[q],f=a.inArray(m,h),-1!==f&&(f=O[f],void 0!==f?(D=g.operands[m],I=f.text):null!=C&&(I=C[m],D=I.operand,I=I.text),f=x===m?E:"",l+='<li class="ui-menu-item '+f+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+r(m)+'" data-oper="'+r(D)+'"><table><tr><td style="width:25px">'+r(D)+"</td><td>"+r(I)+"</td></tr></table></a></li>");l+="</ul>";
a("body").append(l);a("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all");a("#sopt_menu > li > a").hover(function(){a(this).addClass(z)},function(){a(this).removeClass(z)}).click(function(){var b=a(this).attr("value"),c=a(this).data("oper");d.triggerHandler("jqGridToolbarSelectOper",[b,c,p]);a("#sopt_menu").hide();a(p).text(c).data("soper",b);!0===g.autosearch&&(c=a(p).parent().next().children()[0],(a(c).val()||"nu"===b||"nn"===b)&&B())})}},x,D=a("<tr></tr>",{"class":"ui-search-toolbar",
role:"row form"});g.loadFilterDefaults&&(H=G()||{});a.each(k,function(d){var l,e,p="",f,q,k=this.searchoptions||{},A=this.editoptions||{},r=a("<th></th>",{"class":w.call(b,"colHeaders","ui-th-column ui-th-"+c.direction+" "+(g.applyLabelClasses?this.labelClasses||"":"")),role:"gridcell","aria-describedby":c.id+"_"+this.name}),K=a("<div></div>"),n=a("<table class='ui-search-table'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></table>");
!0===this.hidden&&a(r).css("display","none");this.search=!1===this.search?!1:!0;void 0===this.stype&&(this.stype="text");l=a.extend({mode:"filter"},k);if(this.search){if(g.searchOperators){p=c.search&&null!=H[this.name]?H[this.name].op:l.sopt?l.sopt[0]:"select"===this.stype?"eq":g.defaultSearch;for(q=0;q<O.length;q++)if(O[q].oper===p){f=g.operands[p]||"";break}if(void 0===f&&null!=C)for(var t in C)if(C.hasOwnProperty(t)&&t===p){f=C[t].operand;break}void 0===f&&(f="=");p="<a title='"+(null!=l.searchtitle?
l.searchtitle:P("search.operandTitle"))+"' data-soper='"+p+"' class='"+w.call(b,"searchToolbar.operButton","soptclass")+"' data-colname='"+this.name+"'>"+f+"</a>"}a("td",n).first().data("colindex",d).append(p);null!=l.sopt&&1!==l.sopt.length||a("td.ui-search-oper",n).hide();c.search&&null!=H[this.name]&&(l.defaultValue=H[this.name].data);void 0===l.clearSearch&&(l.clearSearch="text"===this.stype?!0:!1);l.clearSearch?(f=a.isFunction(g.resetTitle)?g.resetTitle.call(b,{options:g,cm:this,cmName:this.name,
iCol:d}):(P("search.resetTitle")||"Clear Search Value")+" "+u.stripHtml(c.colNames[d]),a("td",n).eq(2).append("<a title='"+f+"' aria-label='"+f+"' class='"+w.call(b,"searchToolbar.clearButton","clearsearchclass")+"'><span>"+g.resetIcon+"</span></a>")):a("td",n).eq(2).hide();switch(this.stype){case "select":if(e=this.surl||l.dataUrl)a(K).append(n),a.ajax(a.extend({url:e,context:{stbl:n,options:l,cm:this,iCol:d},dataType:"html",success:function(a,c,d){c=this.cm;var e=this.iCol,f=this.options,p=this.stbl.find(">tbody>tr>td.ui-search-input");
void 0!==f.buildSelect?(a=f.buildSelect.call(b,a,d,c,e))&&p.append(a):p.append(a);a=p.children("select");a.attr({name:c.index||c.name,id:y(c.name)});f.attr&&a.attr(f.attr);a.addClass(F);a.css({width:"100%"});0===a.find("option[value='']").length&&"string"===typeof l.noFilterText&&(N=document.createElement("option"),N.value="",N.innerHTML=l.noFilterText,a.prepend(N));void 0!==f.defaultValue&&a.val(f.defaultValue);h.call(b,a[0],f);u.fullBoolFeedback.call(b,f.selectFilled,"jqGridSelectFilled",{elem:a[0],
options:f,cm:c,cmName:c.name,iCol:e,mode:"filter"});!0===g.autosearch&&a.change(function(){B();return!1})}},u.ajaxOptions,c.ajaxSelectOptions||{}));else{var S,E,G;this.searchoptions?(S=void 0===k.value?A.value||"":k.value,E=void 0===k.separator?A.separator||":":k.separator,G=void 0===k.delimiter?A.delimiter||";":k.delimiter):this.editoptions&&(S=void 0===A.value?"":A.value,E=void 0===A.separator?":":A.separator,G=void 0===A.delimiter?";":A.delimiter);if(S){k=document.createElement("select");k.style.width=
"100%";a(k).attr({name:this.index||this.name,id:y(this.name),"aria-describedby":c.id+"_"+this.name});l.attr&&a(k).attr(l.attr);if(!u.fillSelectOptions(k,S,E,G,null!=l.attr&&l.attr.multiple)&&"string"===typeof l.noFilterText){var N=document.createElement("option");N.value="";N.innerHTML=l.noFilterText;N.selected=!0;a(k).prepend(N)}void 0!==l.defaultValue&&a(k).val(l.defaultValue);a(k).addClass(F);a(K).append(n);h.call(b,k,l);a("td",n).eq(1).append(k);u.fullBoolFeedback.call(b,l.selectFilled,"jqGridSelectFilled",
{elem:k,options:this.searchoptions||A,cm:this,cmName:this.name,iCol:d,mode:"filter"});!0===g.autosearch&&a(k).change(function(){B();return!1})}}break;case "text":d=void 0!==l.defaultValue?l.defaultValue:"";a("td",n).eq(1).append("<input role='search' type='text' class='"+F+"' name='"+(this.index||this.name)+"' id='"+y(this.name)+"' aria-labelledby='jqgh_"+c.id+"_"+this.name+"' value='"+d+"'/>");a(K).append(n);l.attr&&a("input",K).attr(l.attr);h.call(b,a("input",K)[0],l);!0===g.autosearch&&(g.searchOnEnter?
a("input",K).keypress(function(a){return 13===(a.charCode||a.keyCode||0)?(B(),!1):this}):a("input",K).keydown(function(a){switch(a.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:x&&clearTimeout(x),x=setTimeout(function(){B()},g.autosearchDelay)}}));break;case "custom":a("td",n).eq(1).append("<span style='width:100%;padding:0;box-sizing:border-box;' class='"+F+"' name='"+(this.index||this.name)+"' id='"+y(this.name)+"'/>");a(K).append(n);try{if(a.isFunction(l.custom_element))if(e=
l.custom_element.call(b,void 0!==l.defaultValue?l.defaultValue:"",l))e=a(e).addClass("customelement"),a(K).find("span[name='"+(this.index||this.name)+"']").append(e);else throw"e2";else throw"e1";}catch(Q){"e1"===Q&&m.call(b,v,"function 'custom_element' "+M.nodefined,L),"e2"===Q?m.call(b,v,"function 'custom_element' "+M.novalue,L):m.call(b,v,"string"===typeof Q?Q:Q.message,L)}}}a(r).append(K);a(r).find(".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass").hover(function(){a(this).addClass(z)},
function(){a(this).removeClass(z)});a(D).append(r);g.searchOperators||a("td",n).eq(0).hide()});a(f.hDiv).find(">div>.ui-jqgrid-htable>thead").append(D);g.searchOperators&&(a(".soptclass",D).click(function(b){var c=a(this).offset();p(this,c.left,c.top);b.stopPropagation()}),a("body").on("click",function(b){"soptclass"!==b.target.className&&a("#sopt_menu").hide()}));a(".clearsearchclass",D).click(function(){var b=a(this).parents("tr").first(),c=parseInt(a("td.ui-search-oper",b).data("colindex"),10),
d=a.extend({},k[c].searchoptions||{}).defaultValue||"";"select"===k[c].stype?d?a("td.ui-search-input select",b).val(d):a("td.ui-search-input select",b)[0].selectedIndex=0:a("td.ui-search-input input",b).val(d);!0===g.autosearch&&B()});b.ftoolbar=!0;b.triggerToolbar=B;b.clearToolbar=function(e){var l={},p=0,h;e="boolean"!==typeof e?!0:e;a.each(k,function(){var d,e=a("#"+t(y(this.name)),!0===this.frozen&&!0===c.frozenColumns?f.fhDiv:f.hDiv),g,q=this.searchoptions||{};void 0!==q.defaultValue&&(d=q.defaultValue);
h=this.index||this.name;switch(this.stype){case "select":g=0<e.length?!e[0].multiple:!0;e.find("option").each(function(b){this.selected=0===b&&g;if(a(this).val()===d)return this.selected=!0,!1});if(void 0!==d)l[h]=d,p++;else try{delete c.postData[h]}catch(T){}break;case "text":e.val(d||"");if(void 0!==d)l[h]=d,p++;else try{delete c.postData[h]}catch(T){}break;case "custom":a.isFunction(q.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()&&q.custom_value.call(b,e.children(".customelement").first(),
"set",d||"")}});var q=0<p?!0:!1;c.resetsearch=!0;if(g.stringResult||g.searchOperators||"local"===c.datatype){var m='{"groupOp":"'+g.groupOp+'","rules":[',x=0;a.each(l,function(a,b){0<x&&(m+=",");m+='{"field":"'+a+'",';m+='"op":"eq",';m+='"data":"'+(b+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';x++});m+="]}";a.extend(c.postData,{filters:m});a.each(["searchField","searchString","searchOper"],function(a,b){c.postData.hasOwnProperty(b)&&delete c.postData[b]})}else a.extend(c.postData,l);var D;
c.searchurl&&(D=c.url,d.jqGrid("setGridParam",{url:c.searchurl}));var r="stop"===d.triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!r&&a.isFunction(g.beforeClear)&&(r=g.beforeClear.call(b));r||e&&d.jqGrid("setGridParam",{search:q}).trigger("reloadGrid",[a.extend({page:1},g.reloadGridResetOptions||{})]);D&&d.jqGrid("setGridParam",{url:D});d.triggerHandler("jqGridToolbarAfterClear");a.isFunction(g.afterClear)&&g.afterClear()};b.toggleToolbar=function(){var b=a("tr.ui-search-toolbar",f.hDiv),e=!0===
c.frozenColumns?a("tr.ui-search-toolbar",f.fhDiv):!1;"none"===b.css("display")?(b.show(),e&&e.show()):(b.hide(),e&&e.hide());!0===c.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns"))};!0===c.frozenColumns&&(d.jqGrid("destroyFrozenColumns"),d.jqGrid("setFrozenColumns"));d.bind("jqGridRefreshFilterValues.filterToolbar"+(g.loadFilterDefaults?" jqGridAfterLoadComplete.filterToolbar":""),function(){var b,d,e=G(!0)||{},f;if(g.stringResult||g.searchOperators||"local"===c.datatype||
!c.search){for(b in e)e.hasOwnProperty(b)&&(d=e[b],f=a("#"+t(y(b))),0<f.length&&("SELECT"===f[0].tagName.toUpperCase()&&f[0].multiple?f.val(d.data.split(",")):a.trim(f.val())!==d.data&&f.val(d.data),f=f.closest(".ui-search-input").siblings(".ui-search-oper").children(".soptclass"),f.data("soper",d.op),f.text(g.operands[d.op])));for(d=0;d<c.colModel.length;d++)b=c.colModel[d].name,e.hasOwnProperty(b)||a("#"+t(y(b))).val("")}})}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&
(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,a(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove(),!0===this.p.frozenColumns&&a(this).jqGrid("destroyFrozenColumns").jqGrid("setFrozenColumns"))})},destroyGroupHeader:function(e){void 0===e&&(e=!0);return this.each(function(){var b,f,d,c;b=this.grid;var h=this.p.colModel,m=a("table.ui-jqgrid-htable thead",b.hDiv);if(b){a(this).unbind(".setGroupHeaders");var r=a("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),
g=b.headers;b=0;for(f=g.length;b<f;b++){d=h[b].hidden?"none":"";d=a(g[b].el).width(g[b].width).css("display",d);try{d.removeAttr("rowSpan")}catch(k){d.attr("rowSpan",1)}r.append(d);c=d.children("span.ui-jqgrid-resize");0<c.length&&(c[0].style.height="");d.children("div")[0].style.top=""}a(m).children("tr.ui-jqgrid-labels").remove();a(m).prepend(r);!0===e&&a(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(e){e=a.extend({useColSpanStyle:!1,applyLabelClasses:!0,groupHeaders:[]},
e||{});return this.each(function(){this.p.groupHeader=e;var b,f,d=0,c,h,m,r,g,k,t=this.p,v=t.colModel,L=v.length,M=this.grid.headers,z=a("table.ui-jqgrid-htable",this.grid.hDiv),E=u.isCellClassHidden,F=z.children("thead").children("tr.ui-jqgrid-labels"),H=F.last().addClass("jqg-second-row-header");c=z.children("thead");var y=z.find(".jqg-first-row-header");void 0===y[0]?y=a("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):y.empty();var G=function(a,b){var c;
for(c=0;c<b.length;c++)if(b[c].startColumnName===a)return b[c];return 0};a(this).prepend(c);c=a("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(b=0;b<L;b++)if(m=M[b].el,r=a(m),f=v[b],h={height:"0",width:M[b].width+"px",display:f.hidden?"none":""},a("<th>",{role:"gridcell"}).css(h).addClass("ui-first-th-"+t.direction+(e.applyLabelClasses?" "+(f.labelClasses||""):"")).appendTo(y),m.style.width="",h=w.call(this,"colHeaders","ui-th-column-header ui-th-"+t.direction+" "+(e.applyLabelClasses?
f.labelClasses||"":"")),g=G(f.name,e.groupHeaders)){d=g.numberOfColumns;k=g.titleText;for(g=f=0;g<d&&b+g<L;g++)v[b+g].hidden||E(v[b+g].classes)||f++;h=a("<th>").addClass(h).css({height:"22px","border-top":"0 none"}).html(k);0<f&&h.attr("colspan",String(f));t.headertitles&&h.attr("title",h.text());0===f&&h.hide();r.before(h);c.append(m);--d}else 0===d?e.useColSpanStyle?r.attr("rowspan",F.length+1):(a("<th>").addClass(h).css({display:f.hidden?"none":"","border-top":"0 none"}).insertBefore(r),c.append(m)):
(c.append(m),d--);t=a(this).children("thead");t.prepend(y);c.insertAfter(H);z.prepend(t);e.useColSpanStyle&&(z.find("span.ui-jqgrid-resize").each(function(){var b=a(this).parent();b.is(":visible")&&(this.style.cssText="height:"+b.height()+"px !important;cursor:col-resize;")}),z.find(".ui-th-column>div").each(function(){var b=a(this),c=b.parent();c.is(":visible")&&c.is(":has(span.ui-jqgrid-resize)")&&!b.hasClass("ui-jqgrid-rotate")&&!b.hasClass("ui-jqgrid-rotateOldIE")&&b.css("top",(c.height()-b.outerHeight(!0))/
2+"px")}));a(this).triggerHandler("jqGridAfterSetGroupHeaders")})},getNumberOfFrozenColumns:function(){var a=this;if(0===a.length)return 0;var a=a[0],a=a.p.colModel,b=a.length,f=-1,d;for(d=0;d<b&&!0===a[d].frozen;d++)f=d;return f+1},setFrozenColumns:function(e){e=e||{};return this.each(function(){var b=this,f=a(b),d=b.p,c=b.grid;if(c&&null!=d&&!0!==d.frozenColumns){var h=d.colModel,m,r=h.length,g=-1,k=!1,u=[],v=t(d.id),L=w.call(b,"states.hover"),M=w.call(b,"states.disabled");if(!0!==d.subGrid&&!0!==
d.treeGrid&&!d.scroll){for(m=0;m<r&&!0===h[m].frozen;m++)k=!0,g=m,u.push("#jqgh_"+v+"_"+t(h[m].name));d.sortable&&(h=a(c.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),h.sortable("destroy"),f.jqGrid("setGridParam",{sortable:{options:{items:0<u.length?">th:not(:has("+u.join(",")+"),:hidden)":">th:not(:hidden)"}}}),f.jqGrid("sortableColumns",h));if(0<=g&&k){k=d.caption?a(c.cDiv).outerHeight():0;u=a(".ui-jqgrid-htable",d.gView).height();d.toppager&&(k+=a(c.topDiv).outerHeight());!0===d.toolbar[0]&&
"bottom"!==d.toolbar[1]&&(k+=a(c.uDiv).outerHeight());c.fhDiv=a("<div style='position:absolute;overflow:hidden;"+("rtl"===d.direction?"right:0;border-top-left-radius:0;":"left:0;border-top-right-radius:0;")+"top:"+k+"px;height:"+u+"px;' class='"+w.call(b,"hDiv","frozen-div ui-jqgrid-hdiv")+"'></div>");c.fbDiv=a("<div style='position:absolute;overflow:hidden;"+("rtl"===d.direction?"right:0;":"left:0;")+"top:"+(parseInt(k,10)+parseInt(u,10)+1)+"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>");
a(d.gView).append(c.fhDiv);h=a(".ui-jqgrid-htable",d.gView).clone(!0);r=h[0].tHead.rows;if(d.groupHeader){a(r[0].cells).filter(":gt("+g+")").remove();a(r).filter(".jqg-third-row-header").each(function(){a(this).children("th[id]").each(function(){var c=a(this).attr("id");c&&c.substr(0,b.id.length+1)===b.id+"_"&&(c=c.substr(b.id.length+1),d.iColByName[c]>g&&a(this).remove())})});var z=-1,E=-1,F,H;a(r).filter(".jqg-second-row-header").children("th").each(function(){F=parseInt(a(this).attr("colspan")||
1,10);H=parseInt(a(this).attr("rowspan")||1,10);1<H?(z++,E++):F&&(z+=F,E++);if(z===g)return!1});z!==g&&(E=g);a(r).filter(".jqg-second-row-header,.ui-search-toolbar").each(function(){a(this).children(":gt("+E+")").remove()})}else a(r).each(function(){a(this).children(":gt("+g+")").remove()});a(h).width(1);a(c.fhDiv).append(h).mousemove(function(a){if(c.resizing)return c.dragMove(a),!1}).scroll(function(){this.scrollLeft=0});d.footerrow&&(h=a(".ui-jqgrid-bdiv",d.gView).height(),c.fsDiv=a("<div style='position:absolute;"+
("rtl"===d.direction?"right:0;":"left:0;")+"top:"+(parseInt(k,10)+parseInt(u,10)+parseInt(h,10)+1)+"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>"),a(d.gView).append(c.fsDiv),k=a(".ui-jqgrid-ftable",d.gView).clone(!0),a("tr",k).each(function(){a("td:gt("+g+")",this).remove()}),a(k).width(1),a(c.fsDiv).append(k));f.bind("jqGridSortCol.setFrozenColumns",function(b,f,e){b=a("tr.ui-jqgrid-labels:last th:eq("+d.lastsort+")",c.fhDiv);f=a("tr.ui-jqgrid-labels:last th:eq("+e+")",c.fhDiv);a("span.ui-grid-ico-sort",
b).addClass(M);a(b).attr("aria-selected","false");a("span.ui-icon-"+d.sortorder,f).removeClass(M);a(f).attr("aria-selected","true");d.viewsortcols[0]||d.lastsort===e||(a("span.s-ico",b).hide(),a("span.s-ico",f).show())});a(d.gView).append(c.fbDiv);a(c.bDiv).scroll(function(){a(c.fbDiv).scrollTop(a(this).scrollTop())});a(c.fbDiv).bind("mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns",function(d){c.bDiv.scrollTop+=a.isFunction(e.mouseWheel)?e.mouseWheel.call(b,d):"mousewheel"===d.type?-d.originalEvent.wheelDelta/
10:6*d.originalEvent.detail});!0===d.hoverrows&&a(d.idSel).unbind("mouseover").unbind("mouseout");var y=function(a,b){var c=a.height();1<=Math.abs(c-b)&&0<b&&(a.height(b),c=a.height(),1<=Math.abs(b-c)&&a.height(b+Math.round(b-c)))},G=function(a,b){var c=a.width();1<=Math.abs(c-b)&&(a.width(b),c=a.width(),1<=Math.abs(b-c)&&a.width(b+Math.round(b-c)))},B=function(b,c,f,e){var g,h,p,k,q,t,r;r=a(c).position().top;var u,x,n;if(null!=b&&0<b.length){b[0].scrollTop=c.scrollTop;b.css("rtl"===d.direction?{top:r,
right:0}:{top:r,left:0});h=b.children("table").children("thead").children("tr");p=a(c).children("div").children("table").children("thead").children("tr");0===p.length&&(h=a(b.children("table")[0].rows),p=a(a(c).children("div").children("table")[0].rows));g=Math.min(h.length,p.length);u=0<g?a(h[0]).position().top:0;x=0<g?a(p[0]).position().top:0;if(0<=f)for(0<=e&&(g=Math.min(e+1,g));f<g;f++)if(k=a(p[f]),"none"!==k.css("display")&&k.is(":visible")){r=k.position().top;e=a(h[f]);q=e.position().top;t=
k.height();if(null!=d.groupHeader&&d.groupHeader.useColSpanStyle)for(n=k[0].cells,m=0;m<n.length;m++)k=n[m],null!=k&&"TH"===k.nodeName.toUpperCase()&&(t=Math.max(t,a(k).height()));r=t+(r-x)+(u-q);y(e,r)}y(b,c.clientHeight)}},k={resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},O={header:k,resizeFooter:!0,body:k};f.bind("jqGridAfterGridComplete.setFrozenColumns",function(){a(d.idSel+"_frozen").remove();a(c.fbDiv).height(c.hDiv.clientHeight);var b=a(this).clone(!0),e=b[0].rows,h=f[0].rows;a(e).filter("tr[role=row]").each(function(){a(this.cells).filter("td[role=gridcell]:gt("+
g+")").remove()});c.fbRows=e;b.width(1).attr("id",d.id+"_frozen");b.appendTo(c.fbDiv);if(!0===d.hoverrows){var k=function(b,c,d){a(b)[c](L);a(d[b.rowIndex])[c](L)};a(e).filter(".jqgrow").hover(function(){k(this,"addClass",h)},function(){k(this,"removeClass",h)});a(h).filter(".jqgrow").hover(function(){k(this,"addClass",e)},function(){k(this,"removeClass",e)})}B(c.fhDiv,c.hDiv,0,-1);B(c.fbDiv,c.bDiv,0,-1);c.sDiv&&B(c.fsDiv,c.sDiv,0,-1)});var C=function(b){a(c.fbDiv).scrollTop(a(c.bDiv).scrollTop());
b.header.resizeDiv&&B(c.fhDiv,c.hDiv,b.header.iRowStart,b.header.iRowEnd);b.body.resizeDiv&&B(c.fbDiv,c.bDiv,b.body.iRowStart,b.body.iRowEnd);b.resizeFooter&&c.sDiv&&b.resizeFooter&&B(c.fsDiv,c.sDiv,0,-1);var d=c.fhDiv[0].clientWidth;b.header.resizeDiv&&null!=c.fhDiv&&1<=c.fhDiv.length&&y(a(c.fhDiv),c.hDiv.clientHeight);b.body.resizeDiv&&null!=c.fbDiv&&0<c.fbDiv.length&&G(a(c.fbDiv),d);b.resizeFooter&&null!=c.fsDiv&&0<=c.fsDiv.length&&G(a(c.fsDiv),d)};a(d.gBox).bind("resizestop.setFrozenColumns",
function(){setTimeout(function(){C(O)},50)});f.bind("jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns",function(a,b){var c=f.jqGrid("getInd",b);C({header:{resizeDiv:!1,resizedRows:{iRowStart:-1,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:c,iRowEnd:c}}})});
f.bind("jqGridResizeStop.setFrozenColumns",function(){C(O)});f.bind("jqGridResetFrozenHeights.setFrozenColumns",function(a,b){C(b||O)});c.hDiv.loading||f.triggerHandler("jqGridAfterGridComplete");d.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){var e=a(this),b=this.grid,f=this.p,d=t(f.id);if(b&&!0===f.frozenColumns){a(b.fhDiv).remove();a(b.fbDiv).unbind(".setFrozenColumns");a(b.fbDiv).remove();b.fhDiv=null;b.fbDiv=null;b.fbRows=null;f.footerrow&&(a(b.fsDiv).remove(),
b.fsDiv=null);e.unbind(".setFrozenColumns");if(!0===f.hoverrows){var c,h=w.call(this,"states.hover");e.bind("mouseover",function(b){c=a(b.target).closest("tr.jqgrow");"ui-subgrid"!==a(c).attr("class")&&a(c).addClass(h)}).bind("mouseout",function(b){c=a(b.target).closest("tr.jqgrow");a(c).removeClass(h)})}f.frozenColumns=!1;f.sortable&&(b=a(b.hDiv).find(".ui-jqgrid-htable .ui-jqgrid-labels"),b.sortable("destroy"),e.jqGrid("setGridParam",{sortable:{options:{items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+
d+"_rn,#jqgh_"+d+"_subgrid),:hidden)"}}}),e.jqGrid("sortableColumns",b))}})}})});
//# sourceMappingURL=grid.custom.map
